{"operation":"CREATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"516562a0-ad28-4dc8-9317-be864fa5b254-10713","revision":null,"timestamp":"2018-03-20T17:49:25.833Z","objectId":"sync","eventName":"CONFIG","before":null,"after":{"mappings":[]},"changedFields":["/"],"_id":"516562a0-ad28-4dc8-9317-be864fa5b254-10753"}
{"operation":"CREATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"7dcf2d2a-89e4-4893-888d-e7ddec288974-165","revision":null,"timestamp":"2018-03-20T17:53:59.883Z","objectId":"sync","eventName":"CONFIG","before":null,"after":{"mappings":[]},"changedFields":["/"],"_id":"7dcf2d2a-89e4-4893-888d-e7ddec288974-191"}
{"operation":"CREATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"7dcf2d2a-89e4-4893-888d-e7ddec288974-172","revision":null,"timestamp":"2018-03-20T17:53:59.883Z","objectId":"sync","eventName":"CONFIG","before":null,"after":{"mappings":[]},"changedFields":["/"],"_id":"7dcf2d2a-89e4-4893-888d-e7ddec288974-192"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"7dcf2d2a-89e4-4893-888d-e7ddec288974-390","revision":null,"timestamp":"2018-03-20T18:01:51.324Z","objectId":"managed","eventName":"CONFIG","before":{"objects":[{"name":"user","onCreate":{"type":"text/javascript","source":"require('ui/onCreateUser').setDefaultFields(object);require('ui/onCreateUser').createIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onCreateUser').emailUser(object);require('ui/lastChanged').updateLastChanged(object);"},"onUpdate":{"type":"text/javascript","source":"require('ui/onUpdateUser').preserveLastSync(object, oldObject, request);require('ui/onUpdateUser').updateIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onUpdateUser').createNotification(object, oldObject);require('ui/lastChanged').updateLastChanged(object);"},"onDelete":{"type":"text/javascript","file":"ui/onDelete-user-cleanup.js"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"actions":{"resetPassword":{"type":"text/javascript","source":"require('ui/resetPassword').sendMail(object);"}},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:User","title":"User","icon":"fa-user","viewable":true,"$schema":"http://json-schema.org/draft-03/schema","order":["_id","userName","password","givenName","sn","mail","description","accountStatus","telephoneNumber","postalAddress","address2","city","postalCode","country","stateProvince","roles","manager","authzRoles","reports","effectiveRoles","effectiveAssignments","lastSync","kbaInfo","preferences","termsAccepted","lastChanged","consentedMappings"],"properties":{"_id":{"description":"User ID","type":"string","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"password":{"title":"Password","description":"Password","type":"string","viewable":false,"searchable":false,"minLength":8,"userEditable":true,"encryption":{"key":"openidm-sym-default"},"scope":"private","isProtected":true,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"at-least-X-capitals","params":{"numCaps":1}},{"policyId":"at-least-X-numbers","params":{"numNums":1}},{"policyId":"cannot-contain-others","params":{"disallowedFields":["userName","givenName","sn"]}}]},"kbaInfo":{"description":"KBA Info","type":"array","userEditable":true,"viewable":false,"usageDescription":"","isPersonal":true,"items":{"type":"object","title":"KBA Info Items","properties":{"answer":{"description":"Answer","type":"string"},"customQuestion":{"description":"Custom question","type":"string"},"questionId":{"description":"Question ID","type":"string"}},"order":["answer","customQuestion","questionId"],"required":[]}},"preferences":{"title":"Preferences","description":"Preferences","viewable":true,"searchable":false,"userEditable":true,"type":"object","usageDescription":"","isPersonal":false,"properties":{"updates":{"description":"Send me news and updates","type":"boolean"},"marketing":{"description":"Send me special offers and services","type":"boolean"}},"order":["updates","marketing"],"required":[]},"mail":{"title":"Email Address","description":"Email Address","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"valid-email-address-format"}]},"sn":{"title":"Last Name","description":"Last Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"description":{"title":"Description","description":"Description","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"address2":{"type":"string","title":"Address 2","description":"Address 2","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"givenName":{"title":"First Name","description":"First Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"city":{"type":"string","title":"City","description":"City","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"country":{"type":"string","title":"Country","description":"Country","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalCode":{"type":"string","title":"Postal Code","description":"Postal Code","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"accountStatus":{"title":"Status","description":"Status","viewable":true,"type":"string","searchable":true,"userEditable":false,"usageDescription":"","isPersonal":false},"roles":{"description":"Provisioning Roles","title":"Provisioning Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles","viewable":true,"userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles:items","title":"Provisioning Roles Items","reverseRelationship":true,"reversePropertyName":"members","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Provisioning Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"authzRoles":{"description":"Authorization Roles","title":"Authorization Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles","viewable":true,"type":"array","userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","title":"Authorization Roles Items","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles:items","reverseRelationship":true,"reversePropertyName":"authzMembers","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"repo/internal/role","label":"Internal Role","query":{"queryFilter":"true","fields":["_id","description"]}},{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"reports":{"description":"Direct Reports","title":"Direct Reports","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:reports:items","title":"Direct Reports Items","reverseRelationship":true,"reversePropertyName":"manager","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Direct Reports Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"effectiveRoles":{"type":"array","title":"Effective Roles","description":"Effective Roles","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","source":"require('roles/effectiveRoles').calculateEffectiveRoles(object, 'roles');"},"items":{"type":"object","title":"Effective Roles Items"}},"effectiveAssignments":{"type":"array","title":"Effective Assignments","description":"Effective Assignments","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","file":"roles/effectiveAssignments.js","effectiveRolesPropName":"effectiveRoles"},"items":{"type":"object","title":"Effective Assignments Items"}},"telephoneNumber":{"type":"string","title":"Mobile Phone","description":"Mobile Phone","viewable":true,"userEditable":true,"pattern":"^\\+?([0-9\\- \\(\\)])*$","usageDescription":"","isPersonal":true},"stateProvince":{"type":"string","title":"State/Province","description":"State/Province","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalAddress":{"type":"string","title":"Address 1","description":"Address 1","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"userName":{"title":"Username","description":"Username","viewable":true,"type":"string","searchable":true,"userEditable":true,"minLength":1,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"unique"},{"policyId":"no-internal-user-conflict"},{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"manager":{"type":"relationship","validate":true,"reverseRelationship":true,"reversePropertyName":"reports","description":"Manager","title":"Manager","viewable":true,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Manager _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}],"userEditable":false},"lastSync":{"description":"Last Sync timestamp","title":"Last Sync timestamp","type":"object","scope":"private","viewable":false,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"effectiveAssignments":{"description":"Effective Assignments","title":"Effective Assignments","type":"array","items":{"type":"object","title":"Effective Assignments Items"}},"timestamp":{"description":"Timestamp","type":"string"}},"order":["effectiveAssignments","timestamp"],"required":[]},"termsAccepted":{"title":"Terms Accepted","type":"object","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"properties":{"termsVersion":{"title":"","description":"Terms & Conditions Version","type":"string","viewable":true,"userEditable":false},"iso8601date":{"title":"","description":"ISO 8601 Date and time format","type":"string","viewable":true,"userEditable":false}},"order":["termsVersion","iso8601date"],"description":"Terms Accepted","returnByDefault":true,"isVirtual":false,"required":[]},"lastChanged":{"title":"Last Changed","type":"object","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"properties":{"date":{"title":"","description":"Last changed date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["date"],"description":"Last Changed","returnByDefault":true,"isVirtual":false,"required":["date"]},"consentedMappings":{"title":"Consented Mappings","description":"Consented Mappings","type":"array","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"items":{"type":"array","title":"Consented Mappings Items","items":{"type":"object","title":"Consented Mappings Item","properties":{"mapping":{"title":"Mapping","description":"Mapping","type":"string","viewable":true,"searchable":true,"userEditable":true},"consentDate":{"title":"Consent Date","description":"Consent Date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["mapping","consentDate"],"required":["mapping","consentDate"]}},"returnByDefault":false,"isVirtual":false}},"type":"object","required":["userName","givenName","sn","mail"]}},{"name":"role","onDelete":{"type":"text/javascript","file":"roles/onDelete-roles.js"},"onSync":{"type":"text/javascript","source":"require('roles/onSync-roles').syncUsersOfRoles(resourceName, oldObject, newObject, ['members']);"},"onCreate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleCreate(object);"},"onUpdate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleUpdate(oldObject, object);"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Role","icon":"fa-check-square-o","description":"","properties":{"_id":{"description":"Role ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The role name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The role description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"members":{"description":"Role Members","title":"Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:members:items","title":"Role Members Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"authzMembers":{"description":"Authorization Role Members","title":"Authorization Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:authzMembers:items","title":"Authorization Role Members Items","reverseRelationship":true,"reversePropertyName":"authzRoles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"assignments":{"description":"Managed Assignments","title":"Managed Assignments","viewable":true,"returnByDefault":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:assignments:items","title":"Managed Assignments Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","title":"Managed Assignments Items _refProperties","type":"object","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/assignment","label":"Assignment","query":{"queryFilter":"true","fields":["name"]}}]}},"condition":{"description":"A conditional filter for this role","title":"Condition","viewable":false,"searchable":false,"type":"string"},"temporalConstraints":{"description":"An array of temporal constraints for a role","title":"Temporal Constraints","viewable":false,"returnByDefault":true,"type":"array","items":{"type":"object","title":"Temporal Constraints Items","properties":{"duration":{"description":"Duration","type":"string"}},"required":["duration"],"order":["duration"]}}},"required":["name"],"order":["_id","name","description","assignments","members","condition","temporalConstraints"]}},{"name":"assignment","onSync":{"type":"text/javascript","source":"require('roles/onSync-assignments').syncUsersOfRolesWithAssignment(resourceName, oldObject, newObject, ['roles']);"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Assignment","icon":"fa-key","description":"A role assignment","properties":{"_id":{"description":"The assignment ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The assignment name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The assignment description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"mapping":{"description":"The name of the mapping this assignment applies to","title":"Mapping","viewable":true,"searchable":true,"type":"string","policies":[{"policyId":"mapping-exists"}]},"attributes":{"description":"The attributes operated on by this assignment.","title":"Assignment Attributes","viewable":true,"type":"array","items":{"type":"object","title":"Assignment Attributes Items","properties":{"assignmentOperation":{"description":"Assignment operation","type":"string"},"unassignmentOperation":{"description":"Unassignment operation","type":"string"},"name":{"description":"Name","type":"string"},"value":{"description":"Value","type":"string"}},"order":["assignmentOperation","unassignmentOperation","name","value"],"required":[]}},"linkQualifiers":{"description":"Conditional link qualifiers to restrict this assignment to.","title":"Link Qualifiers","viewable":true,"type":"array","items":{"type":"string","title":"Link Qualifiers Items"}},"roles":{"description":"Managed Roles","title":"Managed Roles","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment:roles:items","title":"Managed Roles Items","reverseRelationship":true,"reversePropertyName":"assignments","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Managed Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}}},"required":["name","description","mapping"],"order":["_id","name","description","attributes","linkQualifiers"]}}]},"after":{"objects":[{"name":"user","onCreate":{"type":"text/javascript","source":"require('ui/onCreateUser').setDefaultFields(object);require('ui/onCreateUser').createIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onCreateUser').emailUser(object);require('ui/lastChanged').updateLastChanged(object);"},"onUpdate":{"type":"text/javascript","source":"require('ui/onUpdateUser').preserveLastSync(object, oldObject, request);require('ui/onUpdateUser').updateIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onUpdateUser').createNotification(object, oldObject);require('ui/lastChanged').updateLastChanged(object);"},"onDelete":{"type":"text/javascript","file":"ui/onDelete-user-cleanup.js"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"actions":{"resetPassword":{"type":"text/javascript","source":"require('ui/resetPassword').sendMail(object);"}},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:User","title":"User","icon":"fa-user","viewable":true,"$schema":"http://json-schema.org/draft-03/schema","order":["_id","userName","password","givenName","sn","mail","description","accountStatus","telephoneNumber","postalAddress","address2","city","postalCode","country","stateProvince","roles","manager","authzRoles","reports","effectiveRoles","effectiveAssignments","lastSync","kbaInfo","preferences","termsAccepted","lastChanged","consentedMappings"],"properties":{"_id":{"description":"User ID","type":"string","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"password":{"title":"Password","description":"Password","type":"string","viewable":false,"searchable":false,"minLength":8,"userEditable":true,"encryption":{"key":"openidm-sym-default"},"scope":"private","isProtected":true,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"at-least-X-capitals","params":{"numCaps":1}},{"policyId":"at-least-X-numbers","params":{"numNums":1}},{"policyId":"cannot-contain-others","params":{"disallowedFields":["userName","givenName","sn"]}}]},"kbaInfo":{"description":"KBA Info","type":"array","userEditable":true,"viewable":false,"usageDescription":"","isPersonal":true,"items":{"type":"object","title":"KBA Info Items","properties":{"answer":{"description":"Answer","type":"string"},"customQuestion":{"description":"Custom question","type":"string"},"questionId":{"description":"Question ID","type":"string"}},"order":["answer","customQuestion","questionId"],"required":[]}},"preferences":{"title":"Preferences","description":"Preferences","viewable":true,"searchable":false,"userEditable":true,"type":"object","usageDescription":"","isPersonal":false,"properties":{"updates":{"description":"Send me news and updates","type":"boolean"},"marketing":{"description":"Send me special offers and services","type":"boolean"}},"order":["updates","marketing"],"required":[]},"mail":{"title":"Email Address","description":"Email Address","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"valid-email-address-format"}]},"sn":{"title":"Last Name","description":"Last Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"description":{"title":"Description","description":"Description","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"address2":{"type":"string","title":"Address 2","description":"Address 2","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"givenName":{"title":"First Name","description":"First Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"city":{"type":"string","title":"City","description":"City","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"country":{"type":"string","title":"Country","description":"Country","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalCode":{"type":"string","title":"Postal Code","description":"Postal Code","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"accountStatus":{"title":"Status","description":"Status","viewable":true,"type":"string","searchable":true,"userEditable":false,"usageDescription":"","isPersonal":false},"roles":{"description":"Provisioning Roles","title":"Provisioning Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles","viewable":true,"userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles:items","title":"Provisioning Roles Items","reverseRelationship":true,"reversePropertyName":"members","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Provisioning Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"authzRoles":{"description":"Authorization Roles","title":"Authorization Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles","viewable":true,"type":"array","userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","title":"Authorization Roles Items","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles:items","reverseRelationship":true,"reversePropertyName":"authzMembers","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"repo/internal/role","label":"Internal Role","query":{"queryFilter":"true","fields":["_id","description"]}},{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"reports":{"description":"Direct Reports","title":"Direct Reports","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:reports:items","title":"Direct Reports Items","reverseRelationship":true,"reversePropertyName":"manager","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Direct Reports Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"effectiveRoles":{"type":"array","title":"Effective Roles","description":"Effective Roles","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","source":"require('roles/effectiveRoles').calculateEffectiveRoles(object, 'roles');"},"items":{"type":"object","title":"Effective Roles Items"}},"effectiveAssignments":{"type":"array","title":"Effective Assignments","description":"Effective Assignments","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","file":"roles/effectiveAssignments.js","effectiveRolesPropName":"effectiveRoles"},"items":{"type":"object","title":"Effective Assignments Items"}},"telephoneNumber":{"type":"string","title":"Mobile Phone","description":"Mobile Phone","viewable":true,"userEditable":true,"pattern":"^\\+?([0-9\\- \\(\\)])*$","usageDescription":"","isPersonal":true},"stateProvince":{"type":"string","title":"State/Province","description":"State/Province","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalAddress":{"type":"string","title":"Address 1","description":"Address 1","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"userName":{"title":"Username","description":"Username","viewable":true,"type":"string","searchable":true,"userEditable":true,"minLength":1,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"unique"},{"policyId":"no-internal-user-conflict"},{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"manager":{"type":"relationship","validate":true,"reverseRelationship":true,"reversePropertyName":"reports","description":"Manager","title":"Manager","viewable":true,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Manager _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}],"userEditable":false},"lastSync":{"description":"Last Sync timestamp","title":"Last Sync timestamp","type":"object","scope":"private","viewable":false,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"effectiveAssignments":{"description":"Effective Assignments","title":"Effective Assignments","type":"array","items":{"type":"object","title":"Effective Assignments Items"}},"timestamp":{"description":"Timestamp","type":"string"}},"order":["effectiveAssignments","timestamp"],"required":[]},"termsAccepted":{"title":"Terms Accepted","type":"object","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"properties":{"termsVersion":{"title":"","description":"Terms & Conditions Version","type":"string","viewable":true,"userEditable":false},"iso8601date":{"title":"","description":"ISO 8601 Date and time format","type":"string","viewable":true,"userEditable":false}},"order":["termsVersion","iso8601date"],"description":"Terms Accepted","returnByDefault":true,"isVirtual":false,"required":[]},"lastChanged":{"title":"Last Changed","type":"object","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"properties":{"date":{"title":"","description":"Last changed date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["date"],"description":"Last Changed","returnByDefault":true,"isVirtual":false,"required":["date"]},"consentedMappings":{"title":"Consented Mappings","description":"Consented Mappings","type":"array","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"items":{"type":"array","title":"Consented Mappings Items","items":{"type":"object","title":"Consented Mappings Item","properties":{"mapping":{"title":"Mapping","description":"Mapping","type":"string","viewable":true,"searchable":true,"userEditable":true},"consentDate":{"title":"Consent Date","description":"Consent Date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["mapping","consentDate"],"required":["mapping","consentDate"]}},"returnByDefault":false,"isVirtual":false}},"type":"object","required":["userName","givenName","sn","mail"]}},{"name":"role","onDelete":{"type":"text/javascript","file":"roles/onDelete-roles.js"},"onSync":{"type":"text/javascript","source":"require('roles/onSync-roles').syncUsersOfRoles(resourceName, oldObject, newObject, ['members']);"},"onCreate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleCreate(object);"},"onUpdate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleUpdate(oldObject, object);"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Role","icon":"fa-check-square-o","description":"","properties":{"_id":{"description":"Role ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The role name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The role description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"members":{"description":"Role Members","title":"Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:members:items","title":"Role Members Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"authzMembers":{"description":"Authorization Role Members","title":"Authorization Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:authzMembers:items","title":"Authorization Role Members Items","reverseRelationship":true,"reversePropertyName":"authzRoles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"assignments":{"description":"Managed Assignments","title":"Managed Assignments","viewable":true,"returnByDefault":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:assignments:items","title":"Managed Assignments Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","title":"Managed Assignments Items _refProperties","type":"object","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/assignment","label":"Assignment","query":{"queryFilter":"true","fields":["name"]}}]}},"condition":{"description":"A conditional filter for this role","title":"Condition","viewable":false,"searchable":false,"type":"string"},"temporalConstraints":{"description":"An array of temporal constraints for a role","title":"Temporal Constraints","viewable":false,"returnByDefault":true,"type":"array","items":{"type":"object","title":"Temporal Constraints Items","properties":{"duration":{"description":"Duration","type":"string"}},"required":["duration"],"order":["duration"]}}},"required":["name"],"order":["_id","name","description","assignments","members","condition","temporalConstraints"]}},{"name":"assignment","onSync":{"type":"text/javascript","source":"require('roles/onSync-assignments').syncUsersOfRolesWithAssignment(resourceName, oldObject, newObject, ['roles']);"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Assignment","icon":"fa-key","description":"A role assignment","properties":{"_id":{"description":"The assignment ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The assignment name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The assignment description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"mapping":{"description":"The name of the mapping this assignment applies to","title":"Mapping","viewable":true,"searchable":true,"type":"string","policies":[{"policyId":"mapping-exists"}]},"attributes":{"description":"The attributes operated on by this assignment.","title":"Assignment Attributes","viewable":true,"type":"array","items":{"type":"object","title":"Assignment Attributes Items","properties":{"assignmentOperation":{"description":"Assignment operation","type":"string"},"unassignmentOperation":{"description":"Unassignment operation","type":"string"},"name":{"description":"Name","type":"string"},"value":{"description":"Value","type":"string"}},"order":["assignmentOperation","unassignmentOperation","name","value"],"required":[]}},"linkQualifiers":{"description":"Conditional link qualifiers to restrict this assignment to.","title":"Link Qualifiers","viewable":true,"type":"array","items":{"type":"string","title":"Link Qualifiers Items"}},"roles":{"description":"Managed Roles","title":"Managed Roles","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment:roles:items","title":"Managed Roles Items","reverseRelationship":true,"reversePropertyName":"assignments","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Managed Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}}},"required":["name","description","mapping"],"order":["_id","name","description","attributes","linkQualifiers"]}},{"name":"Test","schema":{"icon":"fa-database","title":"Test for database","description":"Bare for gøy"}}]},"changedFields":["/objects"],"_id":"7dcf2d2a-89e4-4893-888d-e7ddec288974-394"}
{"operation":"CREATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-684","revision":null,"timestamp":"2018-03-21T10:39:35.440Z","objectId":"consent","eventName":"CONFIG","before":null,"after":{"enabled":true},"changedFields":["/"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-688"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-795","revision":null,"timestamp":"2018-03-21T10:39:56.308Z","objectId":"ui.context/selfservice","eventName":"CONFIG","before":{"enabled":true,"urlContextRoot":"/","defaultDir":"&{launcher.install.location}/ui/selfservice/default","extensionDir":"&{launcher.install.location}/ui/selfservice/extension","responseHeaders":{"X-Frame-Options":"DENY"}},"after":{"enabled":true,"urlContextRoot":"/minside","defaultDir":"&{launcher.install.location}/ui/selfservice/default","extensionDir":"&{launcher.install.location}/ui/selfservice/extension","responseHeaders":{"X-Frame-Options":"DENY"}},"changedFields":["/urlContextRoot"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-799"}
{"operation":"CREATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1218","revision":null,"timestamp":"2018-03-21T10:40:56.392Z","objectId":"selfservice/registration","eventName":"CONFIG","before":null,"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["marketing","updates"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":300},"storage":"stateless"},"changedFields":["/"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1230"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1220","revision":null,"timestamp":"2018-03-21T10:40:56.418Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":false,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info"}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":["/configuration/selfRegistration","/configuration/kbaDefinitionEnabled","/configuration/kbaEnabled"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1232"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1249","revision":null,"timestamp":"2018-03-21T10:41:45.354Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["marketing","updates"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":300},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs","/snapshotToken/tokenExpiry"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1258"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1251","revision":null,"timestamp":"2018-03-21T10:41:45.365Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1260"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1280","revision":null,"timestamp":"2018-03-21T10:42:02.428Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1287"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1278","revision":null,"timestamp":"2018-03-21T10:42:02.457Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1289"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1307","revision":null,"timestamp":"2018-03-21T10:42:07.142Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1316"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1309","revision":null,"timestamp":"2018-03-21T10:42:07.152Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1318"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1338","revision":null,"timestamp":"2018-03-21T10:42:13.732Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1345"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1336","revision":null,"timestamp":"2018-03-21T10:42:13.755Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1347"}
{"operation":"CREATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1737","revision":null,"timestamp":"2018-03-21T10:43:26.320Z","objectId":"identityProvider/facebook","eventName":"CONFIG","before":null,"after":{"provider":"facebook","authorizationEndpoint":"https://www.facebook.com/dialog/oauth","tokenEndpoint":"https://graph.facebook.com/v2.7/oauth/access_token","userInfoEndpoint":"https://graph.facebook.com/me?fields=id,name,picture,email,first_name,last_name,locale","clientId":"","clientSecret":{"$crypto":{"type":"x-simple-encryption","value":{"cipher":"AES/CBC/PKCS5Padding","salt":"864gjhNS/82SKLssHL1nbA==","data":"kNA6qx2IgSGR7HOiKzSFRQ==","iv":"EqBvy655ElXcTmCqFGPECg==","key":"openidm-sym-default","mac":"SLvEErJZu3kWSqHG56GUHg=="}}},"scope":["email","user_birthday"],"uiConfig":{"iconBackground":"#3b5998","iconClass":"fa-facebook","iconFontColor":"white","buttonImage":"","buttonClass":"fa-facebook-official","buttonDisplayName":"Facebook","buttonCustomStyle":"background-color: #3b5998;border-color: #3b5998; color: white;","buttonCustomStyleHover":"background-color: #334b7d;border-color: #334b7d; color: white;"},"basicAuth":false,"authenticationIdKey":"id","schema":{"id":"urn:jsonschema:org:forgerock:openidm:identityProviders:api:Facebook","title":"Facebook","viewable":true,"type":"object","$schema":"http://json-schema.org/draft-03/schema","properties":{"id":{"description":"ID","title":"ID","viewable":true,"type":"string","searchable":true},"name":{"description":"Name","title":"Name","viewable":true,"type":"string","searchable":true},"first_name":{"description":"First Name","title":"First Name","viewable":true,"type":"string","searchable":true},"last_name":{"description":"Last Name","title":"Last Name","viewable":true,"type":"string","searchable":true},"email":{"description":"Email Address","title":"Email Address","viewable":true,"type":"string","searchable":true},"locale":{"description":"Locale Code","title":"Locale Code","viewable":true,"type":"string","searchable":true}},"order":["id","name","first_name","last_name","email","locale"],"required":[]},"propertyMap":[{"source":"id","target":"id"},{"source":"name","target":"displayName"},{"source":"first_name","target":"givenName"},{"source":"last_name","target":"familyName"},{"source":"email","target":"email"},{"source":"email","target":"username"},{"source":"locale","target":"locale"}],"redirectUri":"http://localhost:8080/oauthReturn/","configClass":"org.forgerock.oauth.clients.oauth2.OAuth2ClientConfiguration","enabled":true},"changedFields":["/"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1741"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1744","revision":null,"timestamp":"2018-03-21T10:43:26.836Z","objectId":"managed","eventName":"CONFIG","before":{"objects":[{"name":"user","onCreate":{"type":"text/javascript","source":"require('ui/onCreateUser').setDefaultFields(object);require('ui/onCreateUser').createIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onCreateUser').emailUser(object);require('ui/lastChanged').updateLastChanged(object);"},"onUpdate":{"type":"text/javascript","source":"require('ui/onUpdateUser').preserveLastSync(object, oldObject, request);require('ui/onUpdateUser').updateIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onUpdateUser').createNotification(object, oldObject);require('ui/lastChanged').updateLastChanged(object);"},"onDelete":{"type":"text/javascript","file":"ui/onDelete-user-cleanup.js"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"actions":{"resetPassword":{"type":"text/javascript","source":"require('ui/resetPassword').sendMail(object);"}},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:User","title":"User","icon":"fa-user","viewable":true,"$schema":"http://json-schema.org/draft-03/schema","order":["_id","userName","password","givenName","sn","mail","description","accountStatus","telephoneNumber","postalAddress","address2","city","postalCode","country","stateProvince","roles","manager","authzRoles","reports","effectiveRoles","effectiveAssignments","lastSync","kbaInfo","preferences","termsAccepted","lastChanged","consentedMappings"],"properties":{"_id":{"description":"User ID","type":"string","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"password":{"title":"Password","description":"Password","type":"string","viewable":false,"searchable":false,"minLength":8,"userEditable":true,"encryption":{"key":"openidm-sym-default"},"scope":"private","isProtected":true,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"at-least-X-capitals","params":{"numCaps":1}},{"policyId":"at-least-X-numbers","params":{"numNums":1}},{"policyId":"cannot-contain-others","params":{"disallowedFields":["userName","givenName","sn"]}}]},"kbaInfo":{"description":"KBA Info","type":"array","userEditable":true,"viewable":false,"usageDescription":"","isPersonal":true,"items":{"type":"object","title":"KBA Info Items","properties":{"answer":{"description":"Answer","type":"string"},"customQuestion":{"description":"Custom question","type":"string"},"questionId":{"description":"Question ID","type":"string"}},"order":["answer","customQuestion","questionId"],"required":[]}},"preferences":{"title":"Preferences","description":"Preferences","viewable":true,"searchable":false,"userEditable":true,"type":"object","usageDescription":"","isPersonal":false,"properties":{"updates":{"description":"Send me news and updates","type":"boolean"},"marketing":{"description":"Send me special offers and services","type":"boolean"}},"order":["updates","marketing"],"required":[]},"mail":{"title":"Email Address","description":"Email Address","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"valid-email-address-format"}]},"sn":{"title":"Last Name","description":"Last Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"description":{"title":"Description","description":"Description","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"address2":{"type":"string","title":"Address 2","description":"Address 2","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"givenName":{"title":"First Name","description":"First Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"city":{"type":"string","title":"City","description":"City","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"country":{"type":"string","title":"Country","description":"Country","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalCode":{"type":"string","title":"Postal Code","description":"Postal Code","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"accountStatus":{"title":"Status","description":"Status","viewable":true,"type":"string","searchable":true,"userEditable":false,"usageDescription":"","isPersonal":false},"roles":{"description":"Provisioning Roles","title":"Provisioning Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles","viewable":true,"userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles:items","title":"Provisioning Roles Items","reverseRelationship":true,"reversePropertyName":"members","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Provisioning Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"authzRoles":{"description":"Authorization Roles","title":"Authorization Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles","viewable":true,"type":"array","userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","title":"Authorization Roles Items","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles:items","reverseRelationship":true,"reversePropertyName":"authzMembers","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"repo/internal/role","label":"Internal Role","query":{"queryFilter":"true","fields":["_id","description"]}},{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"reports":{"description":"Direct Reports","title":"Direct Reports","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:reports:items","title":"Direct Reports Items","reverseRelationship":true,"reversePropertyName":"manager","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Direct Reports Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"effectiveRoles":{"type":"array","title":"Effective Roles","description":"Effective Roles","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","source":"require('roles/effectiveRoles').calculateEffectiveRoles(object, 'roles');"},"items":{"type":"object","title":"Effective Roles Items"}},"effectiveAssignments":{"type":"array","title":"Effective Assignments","description":"Effective Assignments","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","file":"roles/effectiveAssignments.js","effectiveRolesPropName":"effectiveRoles"},"items":{"type":"object","title":"Effective Assignments Items"}},"telephoneNumber":{"type":"string","title":"Mobile Phone","description":"Mobile Phone","viewable":true,"userEditable":true,"pattern":"^\\+?([0-9\\- \\(\\)])*$","usageDescription":"","isPersonal":true},"stateProvince":{"type":"string","title":"State/Province","description":"State/Province","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalAddress":{"type":"string","title":"Address 1","description":"Address 1","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"userName":{"title":"Username","description":"Username","viewable":true,"type":"string","searchable":true,"userEditable":true,"minLength":1,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"unique"},{"policyId":"no-internal-user-conflict"},{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"manager":{"type":"relationship","validate":true,"reverseRelationship":true,"reversePropertyName":"reports","description":"Manager","title":"Manager","viewable":true,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Manager _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}],"userEditable":false},"lastSync":{"description":"Last Sync timestamp","title":"Last Sync timestamp","type":"object","scope":"private","viewable":false,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"effectiveAssignments":{"description":"Effective Assignments","title":"Effective Assignments","type":"array","items":{"type":"object","title":"Effective Assignments Items"}},"timestamp":{"description":"Timestamp","type":"string"}},"order":["effectiveAssignments","timestamp"],"required":[]},"termsAccepted":{"title":"Terms Accepted","type":"object","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"properties":{"termsVersion":{"title":"","description":"Terms & Conditions Version","type":"string","viewable":true,"userEditable":false},"iso8601date":{"title":"","description":"ISO 8601 Date and time format","type":"string","viewable":true,"userEditable":false}},"order":["termsVersion","iso8601date"],"description":"Terms Accepted","returnByDefault":true,"isVirtual":false,"required":[]},"lastChanged":{"title":"Last Changed","type":"object","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"properties":{"date":{"title":"","description":"Last changed date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["date"],"description":"Last Changed","returnByDefault":true,"isVirtual":false,"required":["date"]},"consentedMappings":{"title":"Consented Mappings","description":"Consented Mappings","type":"array","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"items":{"type":"array","title":"Consented Mappings Items","items":{"type":"object","title":"Consented Mappings Item","properties":{"mapping":{"title":"Mapping","description":"Mapping","type":"string","viewable":true,"searchable":true,"userEditable":true},"consentDate":{"title":"Consent Date","description":"Consent Date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["mapping","consentDate"],"required":["mapping","consentDate"]}},"returnByDefault":false,"isVirtual":false}},"type":"object","required":["userName","givenName","sn","mail"]}},{"name":"role","onDelete":{"type":"text/javascript","file":"roles/onDelete-roles.js"},"onSync":{"type":"text/javascript","source":"require('roles/onSync-roles').syncUsersOfRoles(resourceName, oldObject, newObject, ['members']);"},"onCreate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleCreate(object);"},"onUpdate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleUpdate(oldObject, object);"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Role","icon":"fa-check-square-o","description":"","properties":{"_id":{"description":"Role ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The role name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The role description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"members":{"description":"Role Members","title":"Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:members:items","title":"Role Members Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"authzMembers":{"description":"Authorization Role Members","title":"Authorization Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:authzMembers:items","title":"Authorization Role Members Items","reverseRelationship":true,"reversePropertyName":"authzRoles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"assignments":{"description":"Managed Assignments","title":"Managed Assignments","viewable":true,"returnByDefault":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:assignments:items","title":"Managed Assignments Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","title":"Managed Assignments Items _refProperties","type":"object","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/assignment","label":"Assignment","query":{"queryFilter":"true","fields":["name"]}}]}},"condition":{"description":"A conditional filter for this role","title":"Condition","viewable":false,"searchable":false,"type":"string"},"temporalConstraints":{"description":"An array of temporal constraints for a role","title":"Temporal Constraints","viewable":false,"returnByDefault":true,"type":"array","items":{"type":"object","title":"Temporal Constraints Items","properties":{"duration":{"description":"Duration","type":"string"}},"required":["duration"],"order":["duration"]}}},"required":["name"],"order":["_id","name","description","assignments","members","condition","temporalConstraints"]}},{"name":"assignment","onSync":{"type":"text/javascript","source":"require('roles/onSync-assignments').syncUsersOfRolesWithAssignment(resourceName, oldObject, newObject, ['roles']);"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Assignment","icon":"fa-key","description":"A role assignment","properties":{"_id":{"description":"The assignment ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The assignment name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The assignment description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"mapping":{"description":"The name of the mapping this assignment applies to","title":"Mapping","viewable":true,"searchable":true,"type":"string","policies":[{"policyId":"mapping-exists"}]},"attributes":{"description":"The attributes operated on by this assignment.","title":"Assignment Attributes","viewable":true,"type":"array","items":{"type":"object","title":"Assignment Attributes Items","properties":{"assignmentOperation":{"description":"Assignment operation","type":"string"},"unassignmentOperation":{"description":"Unassignment operation","type":"string"},"name":{"description":"Name","type":"string"},"value":{"description":"Value","type":"string"}},"order":["assignmentOperation","unassignmentOperation","name","value"],"required":[]}},"linkQualifiers":{"description":"Conditional link qualifiers to restrict this assignment to.","title":"Link Qualifiers","viewable":true,"type":"array","items":{"type":"string","title":"Link Qualifiers Items"}},"roles":{"description":"Managed Roles","title":"Managed Roles","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment:roles:items","title":"Managed Roles Items","reverseRelationship":true,"reversePropertyName":"assignments","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Managed Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}}},"required":["name","description","mapping"],"order":["_id","name","description","attributes","linkQualifiers"]}},{"name":"Test","schema":{"icon":"fa-database","title":"Test for database","description":"Bare for gøy"}}]},"after":{"objects":[{"name":"user","onCreate":{"type":"text/javascript","source":"require('ui/onCreateUser').setDefaultFields(object);require('ui/onCreateUser').createIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onCreateUser').emailUser(object);require('ui/lastChanged').updateLastChanged(object);"},"onUpdate":{"type":"text/javascript","source":"require('ui/onUpdateUser').preserveLastSync(object, oldObject, request);require('ui/onUpdateUser').updateIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onUpdateUser').createNotification(object, oldObject);require('ui/lastChanged').updateLastChanged(object);"},"onDelete":{"type":"text/javascript","file":"ui/onDelete-user-cleanup.js"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"actions":{"resetPassword":{"type":"text/javascript","source":"require('ui/resetPassword').sendMail(object);"},"unbind":{"type":"text/javascript","file":"ui/unBindBehavior.js","apiDescriptor":{"parameters":[{"name":"provider","type":"string","required":true}]}},"bind":{"type":"text/javascript","file":"ui/bindBehavior.js","apiDescriptor":{"parameters":[{"name":"provider","type":"string","required":true}]}}},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:User","title":"User","icon":"fa-user","viewable":true,"$schema":"http://json-schema.org/draft-03/schema","order":["_id","userName","password","givenName","sn","mail","description","accountStatus","telephoneNumber","postalAddress","address2","city","postalCode","country","stateProvince","roles","manager","authzRoles","reports","effectiveRoles","effectiveAssignments","lastSync","kbaInfo","preferences","termsAccepted","lastChanged","consentedMappings","idps"],"properties":{"_id":{"description":"User ID","type":"string","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"password":{"title":"Password","description":"Password","type":"string","viewable":false,"searchable":false,"minLength":8,"userEditable":true,"encryption":{"key":"openidm-sym-default"},"scope":"private","isProtected":true,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"at-least-X-capitals","params":{"numCaps":1}},{"policyId":"at-least-X-numbers","params":{"numNums":1}},{"policyId":"cannot-contain-others","params":{"disallowedFields":["userName","givenName","sn"]}}]},"kbaInfo":{"description":"KBA Info","type":"array","userEditable":true,"viewable":false,"usageDescription":"","isPersonal":true,"items":{"type":"object","title":"KBA Info Items","properties":{"answer":{"description":"Answer","type":"string"},"customQuestion":{"description":"Custom question","type":"string"},"questionId":{"description":"Question ID","type":"string"}},"order":["answer","customQuestion","questionId"],"required":[]}},"preferences":{"title":"Preferences","description":"Preferences","viewable":true,"searchable":false,"userEditable":true,"type":"object","usageDescription":"","isPersonal":false,"properties":{"updates":{"description":"Send me news and updates","type":"boolean"},"marketing":{"description":"Send me special offers and services","type":"boolean"}},"order":["updates","marketing"],"required":[]},"mail":{"title":"Email Address","description":"Email Address","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"valid-email-address-format"}]},"sn":{"title":"Last Name","description":"Last Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"description":{"title":"Description","description":"Description","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"address2":{"type":"string","title":"Address 2","description":"Address 2","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"givenName":{"title":"First Name","description":"First Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"city":{"type":"string","title":"City","description":"City","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"country":{"type":"string","title":"Country","description":"Country","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalCode":{"type":"string","title":"Postal Code","description":"Postal Code","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"accountStatus":{"title":"Status","description":"Status","viewable":true,"type":"string","searchable":true,"userEditable":false,"usageDescription":"","isPersonal":false},"roles":{"description":"Provisioning Roles","title":"Provisioning Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles","viewable":true,"userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles:items","title":"Provisioning Roles Items","reverseRelationship":true,"reversePropertyName":"members","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Provisioning Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"authzRoles":{"description":"Authorization Roles","title":"Authorization Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles","viewable":true,"type":"array","userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","title":"Authorization Roles Items","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles:items","reverseRelationship":true,"reversePropertyName":"authzMembers","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"repo/internal/role","label":"Internal Role","query":{"queryFilter":"true","fields":["_id","description"]}},{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"reports":{"description":"Direct Reports","title":"Direct Reports","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:reports:items","title":"Direct Reports Items","reverseRelationship":true,"reversePropertyName":"manager","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Direct Reports Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"effectiveRoles":{"type":"array","title":"Effective Roles","description":"Effective Roles","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","source":"require('roles/effectiveRoles').calculateEffectiveRoles(object, 'roles');"},"items":{"type":"object","title":"Effective Roles Items"}},"effectiveAssignments":{"type":"array","title":"Effective Assignments","description":"Effective Assignments","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","file":"roles/effectiveAssignments.js","effectiveRolesPropName":"effectiveRoles"},"items":{"type":"object","title":"Effective Assignments Items"}},"telephoneNumber":{"type":"string","title":"Mobile Phone","description":"Mobile Phone","viewable":true,"userEditable":true,"pattern":"^\\+?([0-9\\- \\(\\)])*$","usageDescription":"","isPersonal":true},"stateProvince":{"type":"string","title":"State/Province","description":"State/Province","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalAddress":{"type":"string","title":"Address 1","description":"Address 1","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"userName":{"title":"Username","description":"Username","viewable":true,"type":"string","searchable":true,"userEditable":true,"minLength":1,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"unique"},{"policyId":"no-internal-user-conflict"},{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"manager":{"type":"relationship","validate":true,"reverseRelationship":true,"reversePropertyName":"reports","description":"Manager","title":"Manager","viewable":true,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Manager _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}],"userEditable":false},"lastSync":{"description":"Last Sync timestamp","title":"Last Sync timestamp","type":"object","scope":"private","viewable":false,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"effectiveAssignments":{"description":"Effective Assignments","title":"Effective Assignments","type":"array","items":{"type":"object","title":"Effective Assignments Items"}},"timestamp":{"description":"Timestamp","type":"string"}},"order":["effectiveAssignments","timestamp"],"required":[]},"termsAccepted":{"title":"Terms Accepted","type":"object","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"properties":{"termsVersion":{"title":"","description":"Terms & Conditions Version","type":"string","viewable":true,"userEditable":false},"iso8601date":{"title":"","description":"ISO 8601 Date and time format","type":"string","viewable":true,"userEditable":false}},"order":["termsVersion","iso8601date"],"description":"Terms Accepted","returnByDefault":true,"isVirtual":false,"required":[]},"lastChanged":{"title":"Last Changed","type":"object","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"properties":{"date":{"title":"","description":"Last changed date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["date"],"description":"Last Changed","returnByDefault":true,"isVirtual":false,"required":["date"]},"consentedMappings":{"title":"Consented Mappings","description":"Consented Mappings","type":"array","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"items":{"type":"array","title":"Consented Mappings Items","items":{"type":"object","title":"Consented Mappings Item","properties":{"mapping":{"title":"Mapping","description":"Mapping","type":"string","viewable":true,"searchable":true,"userEditable":true},"consentDate":{"title":"Consent Date","description":"Consent Date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["mapping","consentDate"],"required":["mapping","consentDate"]}},"returnByDefault":false,"isVirtual":false},"idps":{"title":"Identity Providers","viewable":true,"searchable":false,"userEditable":false,"returnByDefault":false,"type":"array","items":{"type":"relationship","reverseRelationship":true,"reversePropertyName":"user","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Identity Providers _refProperties","properties":{}}},"resourceCollection":[{"path":"managed/facebook","label":"facebook Info","query":{"queryFilter":"true","fields":["id","name","first_name"],"sortKeys":["id","name","first_name"]}}]}}},"type":"object","required":["userName","givenName","sn","mail"]}},{"name":"role","onDelete":{"type":"text/javascript","file":"roles/onDelete-roles.js"},"onSync":{"type":"text/javascript","source":"require('roles/onSync-roles').syncUsersOfRoles(resourceName, oldObject, newObject, ['members']);"},"onCreate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleCreate(object);"},"onUpdate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleUpdate(oldObject, object);"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Role","icon":"fa-check-square-o","description":"","properties":{"_id":{"description":"Role ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The role name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The role description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"members":{"description":"Role Members","title":"Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:members:items","title":"Role Members Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"authzMembers":{"description":"Authorization Role Members","title":"Authorization Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:authzMembers:items","title":"Authorization Role Members Items","reverseRelationship":true,"reversePropertyName":"authzRoles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"assignments":{"description":"Managed Assignments","title":"Managed Assignments","viewable":true,"returnByDefault":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:assignments:items","title":"Managed Assignments Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","title":"Managed Assignments Items _refProperties","type":"object","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/assignment","label":"Assignment","query":{"queryFilter":"true","fields":["name"]}}]}},"condition":{"description":"A conditional filter for this role","title":"Condition","viewable":false,"searchable":false,"type":"string"},"temporalConstraints":{"description":"An array of temporal constraints for a role","title":"Temporal Constraints","viewable":false,"returnByDefault":true,"type":"array","items":{"type":"object","title":"Temporal Constraints Items","properties":{"duration":{"description":"Duration","type":"string"}},"required":["duration"],"order":["duration"]}}},"required":["name"],"order":["_id","name","description","assignments","members","condition","temporalConstraints"]}},{"name":"assignment","onSync":{"type":"text/javascript","source":"require('roles/onSync-assignments').syncUsersOfRolesWithAssignment(resourceName, oldObject, newObject, ['roles']);"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Assignment","icon":"fa-key","description":"A role assignment","properties":{"_id":{"description":"The assignment ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The assignment name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The assignment description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"mapping":{"description":"The name of the mapping this assignment applies to","title":"Mapping","viewable":true,"searchable":true,"type":"string","policies":[{"policyId":"mapping-exists"}]},"attributes":{"description":"The attributes operated on by this assignment.","title":"Assignment Attributes","viewable":true,"type":"array","items":{"type":"object","title":"Assignment Attributes Items","properties":{"assignmentOperation":{"description":"Assignment operation","type":"string"},"unassignmentOperation":{"description":"Unassignment operation","type":"string"},"name":{"description":"Name","type":"string"},"value":{"description":"Value","type":"string"}},"order":["assignmentOperation","unassignmentOperation","name","value"],"required":[]}},"linkQualifiers":{"description":"Conditional link qualifiers to restrict this assignment to.","title":"Link Qualifiers","viewable":true,"type":"array","items":{"type":"string","title":"Link Qualifiers Items"}},"roles":{"description":"Managed Roles","title":"Managed Roles","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment:roles:items","title":"Managed Roles Items","reverseRelationship":true,"reversePropertyName":"assignments","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Managed Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}}},"required":["name","description","mapping"],"order":["_id","name","description","attributes","linkQualifiers"]}},{"name":"Test","schema":{"icon":"fa-database","title":"Test for database","description":"Bare for gøy"}},{"name":"facebook","title":"facebook User Info","schema":{"title":"Facebook","type":"object","viewable":true,"properties":{"user":{"viewable":true,"searchable":false,"type":"relationship","title":"User","reverseRelationship":true,"reversePropertyName":"idps","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"facebookuser _refProperties","properties":{}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName"],"sortKeys":["userName"]}}]},"id":{"description":"ID","title":"ID","viewable":true,"type":"string","searchable":true},"name":{"description":"Name","title":"Name","viewable":true,"type":"string","searchable":true},"first_name":{"description":"First Name","title":"First Name","viewable":true,"type":"string","searchable":true},"last_name":{"description":"Last Name","title":"Last Name","viewable":true,"type":"string","searchable":true},"email":{"description":"Email Address","title":"Email Address","viewable":true,"type":"string","searchable":true},"locale":{"description":"Locale Code","title":"Locale Code","viewable":true,"type":"string","searchable":true}},"order":["id","name","first_name","last_name","email","locale","user"],"id":"urn:jsonschema:org:forgerock:openidm:identityProviders:api:Facebook","$schema":"http://json-schema.org/draft-03/schema","required":[]}}]},"changedFields":["/objects"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1754"}
{"operation":"DELETE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1781","revision":null,"timestamp":"2018-03-21T10:43:41.648Z","objectId":"identityProvider/facebook","eventName":"CONFIG","before":{"provider":"facebook","authorizationEndpoint":"https://www.facebook.com/dialog/oauth","tokenEndpoint":"https://graph.facebook.com/v2.7/oauth/access_token","userInfoEndpoint":"https://graph.facebook.com/me?fields=id,name,picture,email,first_name,last_name,locale","clientId":"","clientSecret":{"$crypto":{"type":"x-simple-encryption","value":{"cipher":"AES/CBC/PKCS5Padding","salt":"864gjhNS/82SKLssHL1nbA==","data":"kNA6qx2IgSGR7HOiKzSFRQ==","iv":"EqBvy655ElXcTmCqFGPECg==","key":"openidm-sym-default","mac":"SLvEErJZu3kWSqHG56GUHg=="}}},"scope":["email","user_birthday"],"uiConfig":{"iconBackground":"#3b5998","iconClass":"fa-facebook","iconFontColor":"white","buttonImage":"","buttonClass":"fa-facebook-official","buttonDisplayName":"Facebook","buttonCustomStyle":"background-color: #3b5998;border-color: #3b5998; color: white;","buttonCustomStyleHover":"background-color: #334b7d;border-color: #334b7d; color: white;"},"basicAuth":false,"authenticationIdKey":"id","schema":{"id":"urn:jsonschema:org:forgerock:openidm:identityProviders:api:Facebook","title":"Facebook","viewable":true,"type":"object","$schema":"http://json-schema.org/draft-03/schema","properties":{"id":{"description":"ID","title":"ID","viewable":true,"type":"string","searchable":true},"name":{"description":"Name","title":"Name","viewable":true,"type":"string","searchable":true},"first_name":{"description":"First Name","title":"First Name","viewable":true,"type":"string","searchable":true},"last_name":{"description":"Last Name","title":"Last Name","viewable":true,"type":"string","searchable":true},"email":{"description":"Email Address","title":"Email Address","viewable":true,"type":"string","searchable":true},"locale":{"description":"Locale Code","title":"Locale Code","viewable":true,"type":"string","searchable":true}},"order":["id","name","first_name","last_name","email","locale"],"required":[]},"propertyMap":[{"source":"id","target":"id"},{"source":"name","target":"displayName"},{"source":"first_name","target":"givenName"},{"source":"last_name","target":"familyName"},{"source":"email","target":"email"},{"source":"email","target":"username"},{"source":"locale","target":"locale"}],"redirectUri":"http://localhost:8080/oauthReturn/","configClass":"org.forgerock.oauth.clients.oauth2.OAuth2ClientConfiguration","enabled":true},"after":null,"changedFields":["/"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1785"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1788","revision":null,"timestamp":"2018-03-21T10:43:41.971Z","objectId":"managed","eventName":"CONFIG","before":{"objects":[{"name":"user","onCreate":{"type":"text/javascript","source":"require('ui/onCreateUser').setDefaultFields(object);require('ui/onCreateUser').createIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onCreateUser').emailUser(object);require('ui/lastChanged').updateLastChanged(object);"},"onUpdate":{"type":"text/javascript","source":"require('ui/onUpdateUser').preserveLastSync(object, oldObject, request);require('ui/onUpdateUser').updateIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onUpdateUser').createNotification(object, oldObject);require('ui/lastChanged').updateLastChanged(object);"},"onDelete":{"type":"text/javascript","file":"ui/onDelete-user-cleanup.js"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"actions":{"resetPassword":{"type":"text/javascript","source":"require('ui/resetPassword').sendMail(object);"},"unbind":{"type":"text/javascript","file":"ui/unBindBehavior.js","apiDescriptor":{"parameters":[{"name":"provider","type":"string","required":true}]}},"bind":{"type":"text/javascript","file":"ui/bindBehavior.js","apiDescriptor":{"parameters":[{"name":"provider","type":"string","required":true}]}}},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:User","title":"User","icon":"fa-user","viewable":true,"$schema":"http://json-schema.org/draft-03/schema","order":["_id","userName","password","givenName","sn","mail","description","accountStatus","telephoneNumber","postalAddress","address2","city","postalCode","country","stateProvince","roles","manager","authzRoles","reports","effectiveRoles","effectiveAssignments","lastSync","kbaInfo","preferences","termsAccepted","lastChanged","consentedMappings","idps"],"properties":{"_id":{"description":"User ID","type":"string","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"password":{"title":"Password","description":"Password","type":"string","viewable":false,"searchable":false,"minLength":8,"userEditable":true,"encryption":{"key":"openidm-sym-default"},"scope":"private","isProtected":true,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"at-least-X-capitals","params":{"numCaps":1}},{"policyId":"at-least-X-numbers","params":{"numNums":1}},{"policyId":"cannot-contain-others","params":{"disallowedFields":["userName","givenName","sn"]}}]},"kbaInfo":{"description":"KBA Info","type":"array","userEditable":true,"viewable":false,"usageDescription":"","isPersonal":true,"items":{"type":"object","title":"KBA Info Items","properties":{"answer":{"description":"Answer","type":"string"},"customQuestion":{"description":"Custom question","type":"string"},"questionId":{"description":"Question ID","type":"string"}},"order":["answer","customQuestion","questionId"],"required":[]}},"preferences":{"title":"Preferences","description":"Preferences","viewable":true,"searchable":false,"userEditable":true,"type":"object","usageDescription":"","isPersonal":false,"properties":{"updates":{"description":"Send me news and updates","type":"boolean"},"marketing":{"description":"Send me special offers and services","type":"boolean"}},"order":["updates","marketing"],"required":[]},"mail":{"title":"Email Address","description":"Email Address","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"valid-email-address-format"}]},"sn":{"title":"Last Name","description":"Last Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"description":{"title":"Description","description":"Description","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"address2":{"type":"string","title":"Address 2","description":"Address 2","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"givenName":{"title":"First Name","description":"First Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"city":{"type":"string","title":"City","description":"City","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"country":{"type":"string","title":"Country","description":"Country","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalCode":{"type":"string","title":"Postal Code","description":"Postal Code","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"accountStatus":{"title":"Status","description":"Status","viewable":true,"type":"string","searchable":true,"userEditable":false,"usageDescription":"","isPersonal":false},"roles":{"description":"Provisioning Roles","title":"Provisioning Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles","viewable":true,"userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles:items","title":"Provisioning Roles Items","reverseRelationship":true,"reversePropertyName":"members","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Provisioning Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"authzRoles":{"description":"Authorization Roles","title":"Authorization Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles","viewable":true,"type":"array","userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","title":"Authorization Roles Items","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles:items","reverseRelationship":true,"reversePropertyName":"authzMembers","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"repo/internal/role","label":"Internal Role","query":{"queryFilter":"true","fields":["_id","description"]}},{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"reports":{"description":"Direct Reports","title":"Direct Reports","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:reports:items","title":"Direct Reports Items","reverseRelationship":true,"reversePropertyName":"manager","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Direct Reports Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"effectiveRoles":{"type":"array","title":"Effective Roles","description":"Effective Roles","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","source":"require('roles/effectiveRoles').calculateEffectiveRoles(object, 'roles');"},"items":{"type":"object","title":"Effective Roles Items"}},"effectiveAssignments":{"type":"array","title":"Effective Assignments","description":"Effective Assignments","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","file":"roles/effectiveAssignments.js","effectiveRolesPropName":"effectiveRoles"},"items":{"type":"object","title":"Effective Assignments Items"}},"telephoneNumber":{"type":"string","title":"Mobile Phone","description":"Mobile Phone","viewable":true,"userEditable":true,"pattern":"^\\+?([0-9\\- \\(\\)])*$","usageDescription":"","isPersonal":true},"stateProvince":{"type":"string","title":"State/Province","description":"State/Province","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalAddress":{"type":"string","title":"Address 1","description":"Address 1","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"userName":{"title":"Username","description":"Username","viewable":true,"type":"string","searchable":true,"userEditable":true,"minLength":1,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"unique"},{"policyId":"no-internal-user-conflict"},{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"manager":{"type":"relationship","validate":true,"reverseRelationship":true,"reversePropertyName":"reports","description":"Manager","title":"Manager","viewable":true,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Manager _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}],"userEditable":false},"lastSync":{"description":"Last Sync timestamp","title":"Last Sync timestamp","type":"object","scope":"private","viewable":false,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"effectiveAssignments":{"description":"Effective Assignments","title":"Effective Assignments","type":"array","items":{"type":"object","title":"Effective Assignments Items"}},"timestamp":{"description":"Timestamp","type":"string"}},"order":["effectiveAssignments","timestamp"],"required":[]},"termsAccepted":{"title":"Terms Accepted","type":"object","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"properties":{"termsVersion":{"title":"","description":"Terms & Conditions Version","type":"string","viewable":true,"userEditable":false},"iso8601date":{"title":"","description":"ISO 8601 Date and time format","type":"string","viewable":true,"userEditable":false}},"order":["termsVersion","iso8601date"],"description":"Terms Accepted","returnByDefault":true,"isVirtual":false,"required":[]},"lastChanged":{"title":"Last Changed","type":"object","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"properties":{"date":{"title":"","description":"Last changed date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["date"],"description":"Last Changed","returnByDefault":true,"isVirtual":false,"required":["date"]},"consentedMappings":{"title":"Consented Mappings","description":"Consented Mappings","type":"array","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"items":{"type":"array","title":"Consented Mappings Items","items":{"type":"object","title":"Consented Mappings Item","properties":{"mapping":{"title":"Mapping","description":"Mapping","type":"string","viewable":true,"searchable":true,"userEditable":true},"consentDate":{"title":"Consent Date","description":"Consent Date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["mapping","consentDate"],"required":["mapping","consentDate"]}},"returnByDefault":false,"isVirtual":false},"idps":{"title":"Identity Providers","viewable":true,"searchable":false,"userEditable":false,"returnByDefault":false,"type":"array","items":{"type":"relationship","reverseRelationship":true,"reversePropertyName":"user","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Identity Providers _refProperties","properties":{}}},"resourceCollection":[{"path":"managed/facebook","label":"facebook Info","query":{"queryFilter":"true","fields":["id","name","first_name"],"sortKeys":["id","name","first_name"]}}]}}},"type":"object","required":["userName","givenName","sn","mail"]}},{"name":"role","onDelete":{"type":"text/javascript","file":"roles/onDelete-roles.js"},"onSync":{"type":"text/javascript","source":"require('roles/onSync-roles').syncUsersOfRoles(resourceName, oldObject, newObject, ['members']);"},"onCreate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleCreate(object);"},"onUpdate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleUpdate(oldObject, object);"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Role","icon":"fa-check-square-o","description":"","properties":{"_id":{"description":"Role ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The role name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The role description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"members":{"description":"Role Members","title":"Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:members:items","title":"Role Members Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"authzMembers":{"description":"Authorization Role Members","title":"Authorization Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:authzMembers:items","title":"Authorization Role Members Items","reverseRelationship":true,"reversePropertyName":"authzRoles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"assignments":{"description":"Managed Assignments","title":"Managed Assignments","viewable":true,"returnByDefault":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:assignments:items","title":"Managed Assignments Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","title":"Managed Assignments Items _refProperties","type":"object","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/assignment","label":"Assignment","query":{"queryFilter":"true","fields":["name"]}}]}},"condition":{"description":"A conditional filter for this role","title":"Condition","viewable":false,"searchable":false,"type":"string"},"temporalConstraints":{"description":"An array of temporal constraints for a role","title":"Temporal Constraints","viewable":false,"returnByDefault":true,"type":"array","items":{"type":"object","title":"Temporal Constraints Items","properties":{"duration":{"description":"Duration","type":"string"}},"required":["duration"],"order":["duration"]}}},"required":["name"],"order":["_id","name","description","assignments","members","condition","temporalConstraints"]}},{"name":"assignment","onSync":{"type":"text/javascript","source":"require('roles/onSync-assignments').syncUsersOfRolesWithAssignment(resourceName, oldObject, newObject, ['roles']);"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Assignment","icon":"fa-key","description":"A role assignment","properties":{"_id":{"description":"The assignment ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The assignment name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The assignment description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"mapping":{"description":"The name of the mapping this assignment applies to","title":"Mapping","viewable":true,"searchable":true,"type":"string","policies":[{"policyId":"mapping-exists"}]},"attributes":{"description":"The attributes operated on by this assignment.","title":"Assignment Attributes","viewable":true,"type":"array","items":{"type":"object","title":"Assignment Attributes Items","properties":{"assignmentOperation":{"description":"Assignment operation","type":"string"},"unassignmentOperation":{"description":"Unassignment operation","type":"string"},"name":{"description":"Name","type":"string"},"value":{"description":"Value","type":"string"}},"order":["assignmentOperation","unassignmentOperation","name","value"],"required":[]}},"linkQualifiers":{"description":"Conditional link qualifiers to restrict this assignment to.","title":"Link Qualifiers","viewable":true,"type":"array","items":{"type":"string","title":"Link Qualifiers Items"}},"roles":{"description":"Managed Roles","title":"Managed Roles","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment:roles:items","title":"Managed Roles Items","reverseRelationship":true,"reversePropertyName":"assignments","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Managed Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}}},"required":["name","description","mapping"],"order":["_id","name","description","attributes","linkQualifiers"]}},{"name":"Test","schema":{"icon":"fa-database","title":"Test for database","description":"Bare for gøy"}},{"name":"facebook","title":"facebook User Info","schema":{"title":"Facebook","type":"object","viewable":true,"properties":{"user":{"viewable":true,"searchable":false,"type":"relationship","title":"User","reverseRelationship":true,"reversePropertyName":"idps","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"facebookuser _refProperties","properties":{}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName"],"sortKeys":["userName"]}}]},"id":{"description":"ID","title":"ID","viewable":true,"type":"string","searchable":true},"name":{"description":"Name","title":"Name","viewable":true,"type":"string","searchable":true},"first_name":{"description":"First Name","title":"First Name","viewable":true,"type":"string","searchable":true},"last_name":{"description":"Last Name","title":"Last Name","viewable":true,"type":"string","searchable":true},"email":{"description":"Email Address","title":"Email Address","viewable":true,"type":"string","searchable":true},"locale":{"description":"Locale Code","title":"Locale Code","viewable":true,"type":"string","searchable":true}},"order":["id","name","first_name","last_name","email","locale","user"],"id":"urn:jsonschema:org:forgerock:openidm:identityProviders:api:Facebook","$schema":"http://json-schema.org/draft-03/schema","required":[]}}]},"after":{"objects":[{"name":"user","onCreate":{"type":"text/javascript","source":"require('ui/onCreateUser').setDefaultFields(object);require('ui/onCreateUser').createIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onCreateUser').emailUser(object);require('ui/lastChanged').updateLastChanged(object);"},"onUpdate":{"type":"text/javascript","source":"require('ui/onUpdateUser').preserveLastSync(object, oldObject, request);require('ui/onUpdateUser').updateIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onUpdateUser').createNotification(object, oldObject);require('ui/lastChanged').updateLastChanged(object);"},"onDelete":{"type":"text/javascript","file":"ui/onDelete-user-cleanup.js"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"actions":{"resetPassword":{"type":"text/javascript","source":"require('ui/resetPassword').sendMail(object);"}},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:User","title":"User","icon":"fa-user","viewable":true,"$schema":"http://json-schema.org/draft-03/schema","order":["_id","userName","password","givenName","sn","mail","description","accountStatus","telephoneNumber","postalAddress","address2","city","postalCode","country","stateProvince","roles","manager","authzRoles","reports","effectiveRoles","effectiveAssignments","lastSync","kbaInfo","preferences","termsAccepted","lastChanged","consentedMappings"],"properties":{"_id":{"description":"User ID","type":"string","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"password":{"title":"Password","description":"Password","type":"string","viewable":false,"searchable":false,"minLength":8,"userEditable":true,"encryption":{"key":"openidm-sym-default"},"scope":"private","isProtected":true,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"at-least-X-capitals","params":{"numCaps":1}},{"policyId":"at-least-X-numbers","params":{"numNums":1}},{"policyId":"cannot-contain-others","params":{"disallowedFields":["userName","givenName","sn"]}}]},"kbaInfo":{"description":"KBA Info","type":"array","userEditable":true,"viewable":false,"usageDescription":"","isPersonal":true,"items":{"type":"object","title":"KBA Info Items","properties":{"answer":{"description":"Answer","type":"string"},"customQuestion":{"description":"Custom question","type":"string"},"questionId":{"description":"Question ID","type":"string"}},"order":["answer","customQuestion","questionId"],"required":[]}},"preferences":{"title":"Preferences","description":"Preferences","viewable":true,"searchable":false,"userEditable":true,"type":"object","usageDescription":"","isPersonal":false,"properties":{"updates":{"description":"Send me news and updates","type":"boolean"},"marketing":{"description":"Send me special offers and services","type":"boolean"}},"order":["updates","marketing"],"required":[]},"mail":{"title":"Email Address","description":"Email Address","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"valid-email-address-format"}]},"sn":{"title":"Last Name","description":"Last Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"description":{"title":"Description","description":"Description","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"address2":{"type":"string","title":"Address 2","description":"Address 2","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"givenName":{"title":"First Name","description":"First Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"city":{"type":"string","title":"City","description":"City","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"country":{"type":"string","title":"Country","description":"Country","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalCode":{"type":"string","title":"Postal Code","description":"Postal Code","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"accountStatus":{"title":"Status","description":"Status","viewable":true,"type":"string","searchable":true,"userEditable":false,"usageDescription":"","isPersonal":false},"roles":{"description":"Provisioning Roles","title":"Provisioning Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles","viewable":true,"userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles:items","title":"Provisioning Roles Items","reverseRelationship":true,"reversePropertyName":"members","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Provisioning Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"authzRoles":{"description":"Authorization Roles","title":"Authorization Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles","viewable":true,"type":"array","userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","title":"Authorization Roles Items","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles:items","reverseRelationship":true,"reversePropertyName":"authzMembers","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"repo/internal/role","label":"Internal Role","query":{"queryFilter":"true","fields":["_id","description"]}},{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"reports":{"description":"Direct Reports","title":"Direct Reports","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:reports:items","title":"Direct Reports Items","reverseRelationship":true,"reversePropertyName":"manager","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Direct Reports Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"effectiveRoles":{"type":"array","title":"Effective Roles","description":"Effective Roles","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","source":"require('roles/effectiveRoles').calculateEffectiveRoles(object, 'roles');"},"items":{"type":"object","title":"Effective Roles Items"}},"effectiveAssignments":{"type":"array","title":"Effective Assignments","description":"Effective Assignments","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","file":"roles/effectiveAssignments.js","effectiveRolesPropName":"effectiveRoles"},"items":{"type":"object","title":"Effective Assignments Items"}},"telephoneNumber":{"type":"string","title":"Mobile Phone","description":"Mobile Phone","viewable":true,"userEditable":true,"pattern":"^\\+?([0-9\\- \\(\\)])*$","usageDescription":"","isPersonal":true},"stateProvince":{"type":"string","title":"State/Province","description":"State/Province","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalAddress":{"type":"string","title":"Address 1","description":"Address 1","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"userName":{"title":"Username","description":"Username","viewable":true,"type":"string","searchable":true,"userEditable":true,"minLength":1,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"unique"},{"policyId":"no-internal-user-conflict"},{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"manager":{"type":"relationship","validate":true,"reverseRelationship":true,"reversePropertyName":"reports","description":"Manager","title":"Manager","viewable":true,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Manager _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}],"userEditable":false},"lastSync":{"description":"Last Sync timestamp","title":"Last Sync timestamp","type":"object","scope":"private","viewable":false,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"effectiveAssignments":{"description":"Effective Assignments","title":"Effective Assignments","type":"array","items":{"type":"object","title":"Effective Assignments Items"}},"timestamp":{"description":"Timestamp","type":"string"}},"order":["effectiveAssignments","timestamp"],"required":[]},"termsAccepted":{"title":"Terms Accepted","type":"object","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"properties":{"termsVersion":{"title":"","description":"Terms & Conditions Version","type":"string","viewable":true,"userEditable":false},"iso8601date":{"title":"","description":"ISO 8601 Date and time format","type":"string","viewable":true,"userEditable":false}},"order":["termsVersion","iso8601date"],"description":"Terms Accepted","returnByDefault":true,"isVirtual":false,"required":[]},"lastChanged":{"title":"Last Changed","type":"object","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"properties":{"date":{"title":"","description":"Last changed date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["date"],"description":"Last Changed","returnByDefault":true,"isVirtual":false,"required":["date"]},"consentedMappings":{"title":"Consented Mappings","description":"Consented Mappings","type":"array","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"items":{"type":"array","title":"Consented Mappings Items","items":{"type":"object","title":"Consented Mappings Item","properties":{"mapping":{"title":"Mapping","description":"Mapping","type":"string","viewable":true,"searchable":true,"userEditable":true},"consentDate":{"title":"Consent Date","description":"Consent Date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["mapping","consentDate"],"required":["mapping","consentDate"]}},"returnByDefault":false,"isVirtual":false}},"type":"object","required":["userName","givenName","sn","mail"]}},{"name":"role","onDelete":{"type":"text/javascript","file":"roles/onDelete-roles.js"},"onSync":{"type":"text/javascript","source":"require('roles/onSync-roles').syncUsersOfRoles(resourceName, oldObject, newObject, ['members']);"},"onCreate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleCreate(object);"},"onUpdate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleUpdate(oldObject, object);"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Role","icon":"fa-check-square-o","description":"","properties":{"_id":{"description":"Role ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The role name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The role description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"members":{"description":"Role Members","title":"Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:members:items","title":"Role Members Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"authzMembers":{"description":"Authorization Role Members","title":"Authorization Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:authzMembers:items","title":"Authorization Role Members Items","reverseRelationship":true,"reversePropertyName":"authzRoles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"assignments":{"description":"Managed Assignments","title":"Managed Assignments","viewable":true,"returnByDefault":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:assignments:items","title":"Managed Assignments Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","title":"Managed Assignments Items _refProperties","type":"object","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/assignment","label":"Assignment","query":{"queryFilter":"true","fields":["name"]}}]}},"condition":{"description":"A conditional filter for this role","title":"Condition","viewable":false,"searchable":false,"type":"string"},"temporalConstraints":{"description":"An array of temporal constraints for a role","title":"Temporal Constraints","viewable":false,"returnByDefault":true,"type":"array","items":{"type":"object","title":"Temporal Constraints Items","properties":{"duration":{"description":"Duration","type":"string"}},"required":["duration"],"order":["duration"]}}},"required":["name"],"order":["_id","name","description","assignments","members","condition","temporalConstraints"]}},{"name":"assignment","onSync":{"type":"text/javascript","source":"require('roles/onSync-assignments').syncUsersOfRolesWithAssignment(resourceName, oldObject, newObject, ['roles']);"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Assignment","icon":"fa-key","description":"A role assignment","properties":{"_id":{"description":"The assignment ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The assignment name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The assignment description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"mapping":{"description":"The name of the mapping this assignment applies to","title":"Mapping","viewable":true,"searchable":true,"type":"string","policies":[{"policyId":"mapping-exists"}]},"attributes":{"description":"The attributes operated on by this assignment.","title":"Assignment Attributes","viewable":true,"type":"array","items":{"type":"object","title":"Assignment Attributes Items","properties":{"assignmentOperation":{"description":"Assignment operation","type":"string"},"unassignmentOperation":{"description":"Unassignment operation","type":"string"},"name":{"description":"Name","type":"string"},"value":{"description":"Value","type":"string"}},"order":["assignmentOperation","unassignmentOperation","name","value"],"required":[]}},"linkQualifiers":{"description":"Conditional link qualifiers to restrict this assignment to.","title":"Link Qualifiers","viewable":true,"type":"array","items":{"type":"string","title":"Link Qualifiers Items"}},"roles":{"description":"Managed Roles","title":"Managed Roles","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment:roles:items","title":"Managed Roles Items","reverseRelationship":true,"reversePropertyName":"assignments","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Managed Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}}},"required":["name","description","mapping"],"order":["_id","name","description","attributes","linkQualifiers"]}},{"name":"Test","schema":{"icon":"fa-database","title":"Test for database","description":"Bare for gøy"}}]},"changedFields":["/objects"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1792"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1866","revision":null,"timestamp":"2018-03-21T10:43:58.959Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1875"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1868","revision":null,"timestamp":"2018-03-21T10:43:58.967Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1877"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1897","revision":null,"timestamp":"2018-03-21T10:44:21.104Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1904"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1895","revision":null,"timestamp":"2018-03-21T10:44:21.111Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1906"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1926","revision":null,"timestamp":"2018-03-21T10:44:37.971Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1933"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1924","revision":null,"timestamp":"2018-03-21T10:44:38.070Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du sikker på dette?":"Sikker på du er gira?"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1935"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1955","revision":null,"timestamp":"2018-03-21T10:44:40.694Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1962"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1953","revision":null,"timestamp":"2018-03-21T10:44:40.743Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du sikker på dette?":"Sikker på du er gira?"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du sikker på dette?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons."}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1964"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1983","revision":null,"timestamp":"2018-03-21T10:44:43.899Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du sikker på dette?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons."}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du sikker på dette?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons."}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1991"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1984","revision":null,"timestamp":"2018-03-21T10:44:43.909Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-1993"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2011","revision":null,"timestamp":"2018-03-21T10:45:17.296Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du sikker på dette?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons."}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du sikker på dette?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons.","Låne penger":"Vi ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2020"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2013","revision":null,"timestamp":"2018-03-21T10:45:17.299Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2022"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2366","revision":null,"timestamp":"2018-03-21T10:46:15.949Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":false,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":false,"kbaEnabled":false}},"changedFields":["/configuration/selfRegistration","/configuration/kbaDefinitionEnabled","/configuration/kbaEnabled"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2373"}
{"operation":"DELETE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2364","revision":null,"timestamp":"2018-03-21T10:46:15.974Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du sikker på dette?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons.","Låne penger":"Vi ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":null,"changedFields":["/"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2375"}
{"operation":"CREATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2433","revision":null,"timestamp":"2018-03-21T10:46:17.498Z","objectId":"selfservice/registration","eventName":"CONFIG","before":null,"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["marketing","updates"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":300},"storage":"stateless"},"changedFields":["/"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2442"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2435","revision":null,"timestamp":"2018-03-21T10:46:17.526Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":false,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":false,"kbaEnabled":false}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":["/configuration/selfRegistration","/configuration/kbaDefinitionEnabled","/configuration/kbaEnabled"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2444"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2463","revision":null,"timestamp":"2018-03-21T10:46:26.352Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2470"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2461","revision":null,"timestamp":"2018-03-21T10:46:26.378Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["marketing","updates"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":300},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs","/snapshotToken/tokenExpiry"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2472"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2490","revision":null,"timestamp":"2018-03-21T10:46:29.726Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2499"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2492","revision":null,"timestamp":"2018-03-21T10:46:29.733Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2501"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2786","revision":null,"timestamp":"2018-03-21T10:47:04.544Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":false,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":["/configuration/passwordReset","/configuration/kbaVerificationEnabled"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2793"}
{"operation":"CREATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2784","revision":null,"timestamp":"2018-03-21T10:47:04.583Z","objectId":"selfservice/reset","eventName":"CONFIG","before":null,"after":{"stageConfigs":[{"name":"userQuery","validQueryFields":["userName","mail","givenName","sn"],"identityIdField":"_id","identityEmailField":"mail","identityUsernameField":"userName","identityServiceUrl":"managed/user"},{"name":"kbaSecurityAnswerVerificationStage","kbaPropertyName":"kbaInfo","identityServiceUrl":"managed/user","kbaConfig":null},{"name":"resetStage","identityServiceUrl":"managed/user","identityPasswordField":"password"}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":300},"storage":"stateless"},"changedFields":["/"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-2795"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3124","revision":null,"timestamp":"2018-03-21T10:48:04.664Z","objectId":"ui.context/selfservice","eventName":"CONFIG","before":{"enabled":true,"urlContextRoot":"/minside","defaultDir":"&{launcher.install.location}/ui/selfservice/default","extensionDir":"&{launcher.install.location}/ui/selfservice/extension","responseHeaders":{"X-Frame-Options":"DENY"}},"after":{"enabled":true,"urlContextRoot":"/","defaultDir":"&{launcher.install.location}/ui/selfservice/default","extensionDir":"&{launcher.install.location}/ui/selfservice/extension","responseHeaders":{"X-Frame-Options":"DENY"}},"changedFields":["/urlContextRoot"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3128"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3468","revision":null,"timestamp":"2018-03-21T10:48:37.589Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3477"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3470","revision":null,"timestamp":"2018-03-21T10:48:37.593Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3479"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3499","revision":null,"timestamp":"2018-03-21T10:48:49.856Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3506"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3497","revision":null,"timestamp":"2018-03-21T10:48:49.878Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3508"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3528","revision":null,"timestamp":"2018-03-21T10:48:54.054Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3535"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3526","revision":null,"timestamp":"2018-03-21T10:48:54.081Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3537"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3555","revision":null,"timestamp":"2018-03-21T10:49:32.448Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du gira?":"Sikker på du er gira?"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3564"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3557","revision":null,"timestamp":"2018-03-21T10:49:32.461Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3566"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3584","revision":null,"timestamp":"2018-03-21T10:49:34.422Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du gira?":"Sikker på du er gira?"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons."}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3593"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3586","revision":null,"timestamp":"2018-03-21T10:49:34.428Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3595"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3615","revision":null,"timestamp":"2018-03-21T10:50:05.209Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons."}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons.","Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3622"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3613","revision":null,"timestamp":"2018-03-21T10:50:05.217Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"b3839c0a-4f9e-450d-9ca7-a44ad7961e67-3624"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"f45608df-696e-4d4a-b4b1-14ec86c51111-737","revision":null,"timestamp":"2018-03-21T11:27:04.898Z","objectId":"managed","eventName":"CONFIG","before":{"objects":[{"name":"user","onCreate":{"type":"text/javascript","source":"require('ui/onCreateUser').setDefaultFields(object);require('ui/onCreateUser').createIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onCreateUser').emailUser(object);require('ui/lastChanged').updateLastChanged(object);"},"onUpdate":{"type":"text/javascript","source":"require('ui/onUpdateUser').preserveLastSync(object, oldObject, request);require('ui/onUpdateUser').updateIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onUpdateUser').createNotification(object, oldObject);require('ui/lastChanged').updateLastChanged(object);"},"onDelete":{"type":"text/javascript","file":"ui/onDelete-user-cleanup.js"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"actions":{"resetPassword":{"type":"text/javascript","source":"require('ui/resetPassword').sendMail(object);"}},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:User","title":"User","icon":"fa-user","viewable":true,"$schema":"http://json-schema.org/draft-03/schema","order":["_id","userName","password","givenName","sn","mail","description","accountStatus","telephoneNumber","postalAddress","address2","city","postalCode","country","stateProvince","roles","manager","authzRoles","reports","effectiveRoles","effectiveAssignments","lastSync","kbaInfo","preferences","termsAccepted","lastChanged","consentedMappings"],"properties":{"_id":{"description":"User ID","type":"string","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"password":{"title":"Password","description":"Password","type":"string","viewable":false,"searchable":false,"minLength":8,"userEditable":true,"encryption":{"key":"openidm-sym-default"},"scope":"private","isProtected":true,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"at-least-X-capitals","params":{"numCaps":1}},{"policyId":"at-least-X-numbers","params":{"numNums":1}},{"policyId":"cannot-contain-others","params":{"disallowedFields":["userName","givenName","sn"]}}]},"kbaInfo":{"description":"KBA Info","type":"array","userEditable":true,"viewable":false,"usageDescription":"","isPersonal":true,"items":{"type":"object","title":"KBA Info Items","properties":{"answer":{"description":"Answer","type":"string"},"customQuestion":{"description":"Custom question","type":"string"},"questionId":{"description":"Question ID","type":"string"}},"order":["answer","customQuestion","questionId"],"required":[]}},"preferences":{"title":"Preferences","description":"Preferences","viewable":true,"searchable":false,"userEditable":true,"type":"object","usageDescription":"","isPersonal":false,"properties":{"updates":{"description":"Send me news and updates","type":"boolean"},"marketing":{"description":"Send me special offers and services","type":"boolean"}},"order":["updates","marketing"],"required":[]},"mail":{"title":"Email Address","description":"Email Address","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"valid-email-address-format"}]},"sn":{"title":"Last Name","description":"Last Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"description":{"title":"Description","description":"Description","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"address2":{"type":"string","title":"Address 2","description":"Address 2","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"givenName":{"title":"First Name","description":"First Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"city":{"type":"string","title":"City","description":"City","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"country":{"type":"string","title":"Country","description":"Country","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalCode":{"type":"string","title":"Postal Code","description":"Postal Code","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"accountStatus":{"title":"Status","description":"Status","viewable":true,"type":"string","searchable":true,"userEditable":false,"usageDescription":"","isPersonal":false},"roles":{"description":"Provisioning Roles","title":"Provisioning Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles","viewable":true,"userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles:items","title":"Provisioning Roles Items","reverseRelationship":true,"reversePropertyName":"members","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Provisioning Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"authzRoles":{"description":"Authorization Roles","title":"Authorization Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles","viewable":true,"type":"array","userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","title":"Authorization Roles Items","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles:items","reverseRelationship":true,"reversePropertyName":"authzMembers","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"repo/internal/role","label":"Internal Role","query":{"queryFilter":"true","fields":["_id","description"]}},{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"reports":{"description":"Direct Reports","title":"Direct Reports","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:reports:items","title":"Direct Reports Items","reverseRelationship":true,"reversePropertyName":"manager","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Direct Reports Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"effectiveRoles":{"type":"array","title":"Effective Roles","description":"Effective Roles","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","source":"require('roles/effectiveRoles').calculateEffectiveRoles(object, 'roles');"},"items":{"type":"object","title":"Effective Roles Items"}},"effectiveAssignments":{"type":"array","title":"Effective Assignments","description":"Effective Assignments","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","file":"roles/effectiveAssignments.js","effectiveRolesPropName":"effectiveRoles"},"items":{"type":"object","title":"Effective Assignments Items"}},"telephoneNumber":{"type":"string","title":"Mobile Phone","description":"Mobile Phone","viewable":true,"userEditable":true,"pattern":"^\\+?([0-9\\- \\(\\)])*$","usageDescription":"","isPersonal":true},"stateProvince":{"type":"string","title":"State/Province","description":"State/Province","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalAddress":{"type":"string","title":"Address 1","description":"Address 1","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"userName":{"title":"Username","description":"Username","viewable":true,"type":"string","searchable":true,"userEditable":true,"minLength":1,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"unique"},{"policyId":"no-internal-user-conflict"},{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"manager":{"type":"relationship","validate":true,"reverseRelationship":true,"reversePropertyName":"reports","description":"Manager","title":"Manager","viewable":true,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Manager _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}],"userEditable":false},"lastSync":{"description":"Last Sync timestamp","title":"Last Sync timestamp","type":"object","scope":"private","viewable":false,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"effectiveAssignments":{"description":"Effective Assignments","title":"Effective Assignments","type":"array","items":{"type":"object","title":"Effective Assignments Items"}},"timestamp":{"description":"Timestamp","type":"string"}},"order":["effectiveAssignments","timestamp"],"required":[]},"termsAccepted":{"title":"Terms Accepted","type":"object","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"properties":{"termsVersion":{"title":"","description":"Terms & Conditions Version","type":"string","viewable":true,"userEditable":false},"iso8601date":{"title":"","description":"ISO 8601 Date and time format","type":"string","viewable":true,"userEditable":false}},"order":["termsVersion","iso8601date"],"description":"Terms Accepted","returnByDefault":true,"isVirtual":false,"required":[]},"lastChanged":{"title":"Last Changed","type":"object","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"properties":{"date":{"title":"","description":"Last changed date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["date"],"description":"Last Changed","returnByDefault":true,"isVirtual":false,"required":["date"]},"consentedMappings":{"title":"Consented Mappings","description":"Consented Mappings","type":"array","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"items":{"type":"array","title":"Consented Mappings Items","items":{"type":"object","title":"Consented Mappings Item","properties":{"mapping":{"title":"Mapping","description":"Mapping","type":"string","viewable":true,"searchable":true,"userEditable":true},"consentDate":{"title":"Consent Date","description":"Consent Date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["mapping","consentDate"],"required":["mapping","consentDate"]}},"returnByDefault":false,"isVirtual":false}},"type":"object","required":["userName","givenName","sn","mail"]}},{"name":"role","onDelete":{"type":"text/javascript","file":"roles/onDelete-roles.js"},"onSync":{"type":"text/javascript","source":"require('roles/onSync-roles').syncUsersOfRoles(resourceName, oldObject, newObject, ['members']);"},"onCreate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleCreate(object);"},"onUpdate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleUpdate(oldObject, object);"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Role","icon":"fa-check-square-o","description":"","properties":{"_id":{"description":"Role ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The role name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The role description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"members":{"description":"Role Members","title":"Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:members:items","title":"Role Members Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"authzMembers":{"description":"Authorization Role Members","title":"Authorization Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:authzMembers:items","title":"Authorization Role Members Items","reverseRelationship":true,"reversePropertyName":"authzRoles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"assignments":{"description":"Managed Assignments","title":"Managed Assignments","viewable":true,"returnByDefault":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:assignments:items","title":"Managed Assignments Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","title":"Managed Assignments Items _refProperties","type":"object","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/assignment","label":"Assignment","query":{"queryFilter":"true","fields":["name"]}}]}},"condition":{"description":"A conditional filter for this role","title":"Condition","viewable":false,"searchable":false,"type":"string"},"temporalConstraints":{"description":"An array of temporal constraints for a role","title":"Temporal Constraints","viewable":false,"returnByDefault":true,"type":"array","items":{"type":"object","title":"Temporal Constraints Items","properties":{"duration":{"description":"Duration","type":"string"}},"required":["duration"],"order":["duration"]}}},"required":["name"],"order":["_id","name","description","assignments","members","condition","temporalConstraints"]}},{"name":"assignment","onSync":{"type":"text/javascript","source":"require('roles/onSync-assignments').syncUsersOfRolesWithAssignment(resourceName, oldObject, newObject, ['roles']);"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Assignment","icon":"fa-key","description":"A role assignment","properties":{"_id":{"description":"The assignment ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The assignment name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The assignment description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"mapping":{"description":"The name of the mapping this assignment applies to","title":"Mapping","viewable":true,"searchable":true,"type":"string","policies":[{"policyId":"mapping-exists"}]},"attributes":{"description":"The attributes operated on by this assignment.","title":"Assignment Attributes","viewable":true,"type":"array","items":{"type":"object","title":"Assignment Attributes Items","properties":{"assignmentOperation":{"description":"Assignment operation","type":"string"},"unassignmentOperation":{"description":"Unassignment operation","type":"string"},"name":{"description":"Name","type":"string"},"value":{"description":"Value","type":"string"}},"order":["assignmentOperation","unassignmentOperation","name","value"],"required":[]}},"linkQualifiers":{"description":"Conditional link qualifiers to restrict this assignment to.","title":"Link Qualifiers","viewable":true,"type":"array","items":{"type":"string","title":"Link Qualifiers Items"}},"roles":{"description":"Managed Roles","title":"Managed Roles","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment:roles:items","title":"Managed Roles Items","reverseRelationship":true,"reversePropertyName":"assignments","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Managed Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}}},"required":["name","description","mapping"],"order":["_id","name","description","attributes","linkQualifiers"]}},{"name":"Test","schema":{"icon":"fa-database","title":"Test for database","description":"Bare for gøy"}}]},"after":{"objects":[{"name":"assignment","onSync":{"type":"text/javascript","source":"require('roles/onSync-assignments').syncUsersOfRolesWithAssignment(resourceName, oldObject, newObject, ['roles']);"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Assignment","icon":"fa-key","description":"A role assignment","properties":{"_id":{"description":"The assignment ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The assignment name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The assignment description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"mapping":{"description":"The name of the mapping this assignment applies to","title":"Mapping","viewable":true,"searchable":true,"type":"string","policies":[{"policyId":"mapping-exists"}]},"attributes":{"description":"The attributes operated on by this assignment.","title":"Assignment Attributes","viewable":true,"type":"array","items":{"type":"object","title":"Assignment Attributes Items","properties":{"assignmentOperation":{"description":"Assignment operation","type":"string"},"unassignmentOperation":{"description":"Unassignment operation","type":"string"},"name":{"description":"Name","type":"string"},"value":{"description":"Value","type":"string"}},"order":["assignmentOperation","unassignmentOperation","name","value"],"required":[]}},"linkQualifiers":{"description":"Conditional link qualifiers to restrict this assignment to.","title":"Link Qualifiers","viewable":true,"type":"array","items":{"type":"string","title":"Link Qualifiers Items"}},"roles":{"description":"Managed Roles","title":"Managed Roles","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Assignment:roles:items","title":"Managed Roles Items","reverseRelationship":true,"reversePropertyName":"assignments","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Managed Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}}},"required":["name","description","mapping"],"order":["_id","name","description","attributes","linkQualifiers"]},"iconClass":"fa fa-database","type":"Managed Object"},{"name":"role","onDelete":{"type":"text/javascript","file":"roles/onDelete-roles.js"},"onSync":{"type":"text/javascript","source":"require('roles/onSync-roles').syncUsersOfRoles(resourceName, oldObject, newObject, ['members']);"},"onCreate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleCreate(object);"},"onUpdate":{"type":"text/javascript","source":"require('roles/conditionalRoles').roleUpdate(oldObject, object);"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role","$schema":"http://forgerock.org/json-schema#","type":"object","title":"Role","icon":"fa-check-square-o","description":"","properties":{"_id":{"description":"Role ID","title":"Name","viewable":false,"searchable":false,"type":"string"},"name":{"description":"The role name, used for display purposes.","title":"Name","viewable":true,"searchable":true,"type":"string"},"description":{"description":"The role description, used for display purposes.","title":"Description","viewable":true,"searchable":true,"type":"string"},"members":{"description":"Role Members","title":"Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:members:items","title":"Role Members Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"authzMembers":{"description":"Authorization Role Members","title":"Authorization Role Members","viewable":true,"type":"array","returnByDefault":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:authzMembers:items","title":"Authorization Role Members Items","reverseRelationship":true,"reversePropertyName":"authzRoles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Role Members Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"assignments":{"description":"Managed Assignments","title":"Managed Assignments","viewable":true,"returnByDefault":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:Role:assignments:items","title":"Managed Assignments Items","reverseRelationship":true,"reversePropertyName":"roles","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","title":"Managed Assignments Items _refProperties","type":"object","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/assignment","label":"Assignment","query":{"queryFilter":"true","fields":["name"]}}]}},"condition":{"description":"A conditional filter for this role","title":"Condition","viewable":false,"searchable":false,"type":"string"},"temporalConstraints":{"description":"An array of temporal constraints for a role","title":"Temporal Constraints","viewable":false,"returnByDefault":true,"type":"array","items":{"type":"object","title":"Temporal Constraints Items","properties":{"duration":{"description":"Duration","type":"string"}},"required":["duration"],"order":["duration"]}}},"required":["name"],"order":["_id","name","description","assignments","members","condition","temporalConstraints"]},"iconClass":"fa fa-database","type":"Managed Object"},{"name":"user","onCreate":{"type":"text/javascript","source":"require('ui/onCreateUser').setDefaultFields(object);require('ui/onCreateUser').createIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onCreateUser').emailUser(object);require('ui/lastChanged').updateLastChanged(object);"},"onUpdate":{"type":"text/javascript","source":"require('ui/onUpdateUser').preserveLastSync(object, oldObject, request);require('ui/onUpdateUser').updateIdpRelationships(object);require('roles/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui/onUpdateUser').createNotification(object, oldObject);require('ui/lastChanged').updateLastChanged(object);"},"onDelete":{"type":"text/javascript","file":"ui/onDelete-user-cleanup.js"},"postCreate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postUpdate":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"postDelete":{"type":"text/javascript","file":"roles/postOperation-roles.js"},"actions":{"resetPassword":{"type":"text/javascript","source":"require('ui/resetPassword').sendMail(object);"}},"schema":{"id":"urn:jsonschema:org:forgerock:openidm:managed:api:User","title":"User","icon":"fa-user","viewable":true,"$schema":"http://json-schema.org/draft-03/schema","order":["_id","userName","password","givenName","sn","mail","description","accountStatus","telephoneNumber","postalAddress","address2","city","postalCode","country","stateProvince","roles","manager","authzRoles","reports","effectiveRoles","effectiveAssignments","lastSync","kbaInfo","preferences","termsAccepted","lastChanged","consentedMappings"],"properties":{"_id":{"description":"User ID","type":"string","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"password":{"title":"Password","description":"Password","type":"string","viewable":false,"searchable":false,"minLength":8,"userEditable":true,"encryption":{"key":"openidm-sym-default"},"scope":"private","isProtected":true,"usageDescription":"","isPersonal":false,"policies":[{"policyId":"at-least-X-capitals","params":{"numCaps":1}},{"policyId":"at-least-X-numbers","params":{"numNums":1}},{"policyId":"cannot-contain-others","params":{"disallowedFields":["userName","givenName","sn"]}}]},"kbaInfo":{"description":"KBA Info","type":"array","userEditable":true,"viewable":false,"usageDescription":"","isPersonal":true,"items":{"type":"object","title":"KBA Info Items","properties":{"answer":{"description":"Answer","type":"string"},"customQuestion":{"description":"Custom question","type":"string"},"questionId":{"description":"Question ID","type":"string"}},"order":["answer","customQuestion","questionId"],"required":[]}},"preferences":{"title":"Preferences","description":"Preferences","viewable":true,"searchable":false,"userEditable":true,"type":"object","usageDescription":"","isPersonal":false,"properties":{"updates":{"description":"Send me news and updates","type":"boolean"},"marketing":{"description":"Send me special offers and services","type":"boolean"}},"order":["updates","marketing"],"required":[]},"mail":{"title":"Email Address","description":"Email Address","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"valid-email-address-format"}]},"sn":{"title":"Last Name","description":"Last Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"description":{"title":"Description","description":"Description","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"address2":{"type":"string","title":"Address 2","description":"Address 2","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"givenName":{"title":"First Name","description":"First Name","viewable":true,"type":"string","searchable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"city":{"type":"string","title":"City","description":"City","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"country":{"type":"string","title":"Country","description":"Country","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalCode":{"type":"string","title":"Postal Code","description":"Postal Code","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"accountStatus":{"title":"Status","description":"Status","viewable":true,"type":"string","searchable":true,"userEditable":false,"usageDescription":"","isPersonal":false},"roles":{"description":"Provisioning Roles","title":"Provisioning Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles","viewable":true,"userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"type":"array","items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:roles:items","title":"Provisioning Roles Items","reverseRelationship":true,"reversePropertyName":"members","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Provisioning Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"},"_grantType":{"description":"Grant Type","type":"string","label":"Grant Type"}}}},"resourceCollection":[{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"authzRoles":{"description":"Authorization Roles","title":"Authorization Roles","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles","viewable":true,"type":"array","userEditable":false,"returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","title":"Authorization Roles Items","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:authzRoles:items","reverseRelationship":true,"reversePropertyName":"authzMembers","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Authorization Roles Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"repo/internal/role","label":"Internal Role","query":{"queryFilter":"true","fields":["_id","description"]}},{"path":"managed/role","label":"Role","query":{"queryFilter":"true","fields":["name"]}}]}},"reports":{"description":"Direct Reports","title":"Direct Reports","viewable":true,"userEditable":false,"type":"array","returnByDefault":false,"usageDescription":"","isPersonal":false,"items":{"type":"relationship","id":"urn:jsonschema:org:forgerock:openidm:managed:api:User:reports:items","title":"Direct Reports Items","reverseRelationship":true,"reversePropertyName":"manager","validate":true,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Direct Reports Items _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}]}},"effectiveRoles":{"type":"array","title":"Effective Roles","description":"Effective Roles","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","source":"require('roles/effectiveRoles').calculateEffectiveRoles(object, 'roles');"},"items":{"type":"object","title":"Effective Roles Items"}},"effectiveAssignments":{"type":"array","title":"Effective Assignments","description":"Effective Assignments","viewable":false,"returnByDefault":true,"isVirtual":true,"usageDescription":"","isPersonal":false,"onRetrieve":{"type":"text/javascript","file":"roles/effectiveAssignments.js","effectiveRolesPropName":"effectiveRoles"},"items":{"type":"object","title":"Effective Assignments Items"}},"telephoneNumber":{"type":"string","title":"Mobile Phone","description":"Mobile Phone","viewable":true,"userEditable":true,"pattern":"^\\+?([0-9\\- \\(\\)])*$","usageDescription":"","isPersonal":true},"stateProvince":{"type":"string","title":"State/Province","description":"State/Province","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":false},"postalAddress":{"type":"string","title":"Address 1","description":"Address 1","viewable":true,"userEditable":true,"usageDescription":"","isPersonal":true},"userName":{"title":"Username","description":"Username","viewable":true,"type":"string","searchable":true,"userEditable":true,"minLength":1,"usageDescription":"","isPersonal":true,"policies":[{"policyId":"unique"},{"policyId":"no-internal-user-conflict"},{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["/"]}}]},"manager":{"type":"relationship","validate":true,"reverseRelationship":true,"reversePropertyName":"reports","description":"Manager","title":"Manager","viewable":true,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"_ref":{"description":"References a relationship from a managed object","type":"string"},"_refProperties":{"description":"Supports metadata within the relationship","type":"object","title":"Manager _refProperties","properties":{"_id":{"description":"_refProperties object ID","type":"string"}}}},"resourceCollection":[{"path":"managed/user","label":"User","query":{"queryFilter":"true","fields":["userName","givenName","sn"]}}],"userEditable":false},"lastSync":{"description":"Last Sync timestamp","title":"Last Sync timestamp","type":"object","scope":"private","viewable":false,"searchable":false,"usageDescription":"","isPersonal":false,"properties":{"effectiveAssignments":{"description":"Effective Assignments","title":"Effective Assignments","type":"array","items":{"type":"object","title":"Effective Assignments Items"}},"timestamp":{"description":"Timestamp","type":"string"}},"order":["effectiveAssignments","timestamp"],"required":[]},"termsAccepted":{"title":"Terms Accepted","type":"object","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"properties":{"termsVersion":{"title":"","description":"Terms & Conditions Version","type":"string","viewable":true,"userEditable":false},"iso8601date":{"title":"","description":"ISO 8601 Date and time format","type":"string","viewable":true,"userEditable":false}},"order":["termsVersion","iso8601date"],"description":"Terms Accepted","returnByDefault":true,"isVirtual":false,"required":[]},"lastChanged":{"title":"Last Changed","type":"object","viewable":false,"searchable":false,"userEditable":false,"usageDescription":"","isPersonal":false,"properties":{"date":{"title":"","description":"Last changed date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["date"],"description":"Last Changed","returnByDefault":true,"isVirtual":false,"required":["date"]},"consentedMappings":{"title":"Consented Mappings","description":"Consented Mappings","type":"array","viewable":false,"searchable":false,"userEditable":true,"usageDescription":"","isPersonal":false,"items":{"type":"array","title":"Consented Mappings Items","items":{"type":"object","title":"Consented Mappings Item","properties":{"mapping":{"title":"Mapping","description":"Mapping","type":"string","viewable":true,"searchable":true,"userEditable":true},"consentDate":{"title":"Consent Date","description":"Consent Date","type":"string","viewable":true,"searchable":true,"userEditable":true}},"order":["mapping","consentDate"],"required":["mapping","consentDate"]}},"returnByDefault":false,"isVirtual":false}},"type":"object","required":["userName","givenName","sn","mail"]},"iconClass":"fa fa-database","type":"Managed Object"}]},"changedFields":["/objects"],"_id":"f45608df-696e-4d4a-b4b1-14ec86c51111-741"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-328","revision":null,"timestamp":"2018-03-21T13:22:27.791Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"en":"Please consent to sharing your data with whomever we like.","fr":"Veuillez accepter le partage de vos données avec ceux que nous souhaitons.","Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"459a672b-a590-4403-b64e-07955e755385-337"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-330","revision":null,"timestamp":"2018-03-21T13:22:27.792Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"459a672b-a590-4403-b64e-07955e755385-338"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-357","revision":null,"timestamp":"2018-03-21T13:22:31.652Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"en":"Some fake terms","fr":"More fake terms","Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"459a672b-a590-4403-b64e-07955e755385-366"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-359","revision":null,"timestamp":"2018-03-21T13:22:31.676Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"459a672b-a590-4403-b64e-07955e755385-368"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-501","revision":null,"timestamp":"2018-03-21T13:57:04.341Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"459a672b-a590-4403-b64e-07955e755385-508"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-500","revision":null,"timestamp":"2018-03-21T13:57:04.397Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"captcha","recaptchaSiteKey":"","recaptchaSecretKey":"","recaptchaUri":"https://www.google.com/recaptcha/api/siteverify"},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"459a672b-a590-4403-b64e-07955e755385-510"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-528","revision":null,"timestamp":"2018-03-21T13:57:05.210Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"captcha","recaptchaSiteKey":"","recaptchaSecretKey":"","recaptchaUri":"https://www.google.com/recaptcha/api/siteverify"},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"459a672b-a590-4403-b64e-07955e755385-537"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-530","revision":null,"timestamp":"2018-03-21T13:57:05.214Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"459a672b-a590-4403-b64e-07955e755385-539"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-557","revision":null,"timestamp":"2018-03-21T13:57:05.781Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"captcha","recaptchaSiteKey":"","recaptchaSecretKey":"","recaptchaUri":"https://www.google.com/recaptcha/api/siteverify"},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"459a672b-a590-4403-b64e-07955e755385-566"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-559","revision":null,"timestamp":"2018-03-21T13:57:05.795Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"459a672b-a590-4403-b64e-07955e755385-568"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-586","revision":null,"timestamp":"2018-03-21T13:57:10.972Z","objectId":"selfservice/registration","eventName":"CONFIG","before":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"captcha","recaptchaSiteKey":"","recaptchaSecretKey":"","recaptchaUri":"https://www.google.com/recaptcha/api/siteverify"},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"after":{"allInOneRegistration":true,"stageConfigs":[{"name":"parameters","parameterNames":["returnParams"]},{"name":"termsAndConditions","termsTranslations":{"Er du gira?":"Sikker på du er gira?"}},{"name":"consent","consentTranslations":{"Ta opp lån":"Vi kan ta opp forbrukslån i ditt navn"}},{"name":"idmUserDetails","identityEmailField":"mail","socialRegistrationEnabled":false,"registrationProperties":["userName","givenName","sn","mail","postalAddress","postalCode","telephoneNumber"],"identityServiceUrl":"managed/user","registrationPreferences":["updates","marketing"]},{"name":"kbaSecurityAnswerDefinitionStage","kbaConfig":null},{"name":"selfRegistration","identityServiceUrl":"managed/user"},{"name":"localAutoLogin","identityUsernameField":"userName","identityPasswordField":"password","successUrl":""}],"snapshotToken":{"type":"jwt","jweAlgorithm":"RSAES_PKCS1_V1_5","encryptionMethod":"A128CBC_HS256","jwsAlgorithm":"HS256","tokenExpiry":"300"},"storage":"stateless"},"changedFields":["/stageConfigs"],"_id":"459a672b-a590-4403-b64e-07955e755385-595"}
{"operation":"UPDATE","userId":"openidm-admin","runAs":"openidm-admin","transactionId":"459a672b-a590-4403-b64e-07955e755385-588","revision":null,"timestamp":"2018-03-21T13:57:10.979Z","objectId":"ui/configuration","eventName":"CONFIG","before":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"after":{"configuration":{"selfRegistration":true,"passwordReset":true,"forgotUsername":false,"lang":"en","passwordResetLink":"","roles":{"openidm-authorized":"ui-user","openidm-admin":"ui-admin"},"notificationTypes":{"info":{"name":"common.notification.types.info","iconPath":"images/notifications/info.png"},"warning":{"name":"common.notification.types.warning","iconPath":"images/notifications/warning.png"},"error":{"name":"common.notification.types.error","iconPath":"images/notifications/error.png"}},"defaultNotificationType":"info","kbaDefinitionEnabled":true,"kbaEnabled":true,"kbaVerificationEnabled":true}},"changedFields":[],"_id":"459a672b-a590-4403-b64e-07955e755385-597"}
