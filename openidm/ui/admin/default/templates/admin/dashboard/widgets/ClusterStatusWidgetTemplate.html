{{!
  Copyright 2016-2017 ForgeRock AS. All Rights Reserved

  Use of this code requires a commercial software license with ForgeRock AS.
  or with one of its affiliates. All use shall be exclusively subject
  to such license between the licensee and ForgeRock AS.
}}
{{> dashboard/_widgetHeader}}
<ul class="list-group">
    {{#each cluster}}
    <li class="list-group-item no-sort clusterNode_row">
        <a href="#" class="toggle-node-detail" instanceId="{{instanceId}}">
            <div class="media-left">
                <div class="image circle">
                    <i class="fa fa-server fr-small-circle bg-primary"></i>
                </div>
            </div>
            <div class="media-body media-middle">
                <div class="row">
                    <div class="col-sm-6">
                        {{instanceId}}
                        {{#if jobCount}}
                        {{#unless showDetails}}
                        <span class="badge" rel="tooltip" data-placement="top" data-container="body" data-delay="100" title="" data-original-title="{{jobCount}} {{t "dashboard.clusterStatusWidget.currentlyExecutingJobs"}}">
                            <i class="fa fa-circle-o-notch fa-spin fa-fw"></i> {{jobCount}}
                        </span>
                        {{/unless}}
                        {{/if}}
                    </div>
                    <div class="col-sm-6" {{#if showDetails}}style="display:none;"{{/if}}>
                        {{#equals state "down"}}
                            <span class="text-danger"><i class="fa fa-exclamation-circle"></i> {{t "dashboard.clusterStatusWidget.down"}}</span>
                        {{/equals}}
                        {{#equals state "running"}}
                            <span class="text-success" style="white-space:nowrap;"><i class="fa fa-check-circle"></i> {{t "dashboard.clusterStatusWidget.running"}}</span>
                        {{/equals}}
                    </div>
                </div>
            </div>
            <div class="media-right media-middle">
                <i class="fa {{#unless showDetails}}fa-angle-up{{else}}fa-angle-down{{/unless}} fa-lg"></i>
            </div>
        </a>
        <div {{#unless showDetails}}style="display:none;"{{/unless}}>
            {{> util/_clusterNodeDetail }}
        </div>
    </li>
    {{/each}}
</ul>
